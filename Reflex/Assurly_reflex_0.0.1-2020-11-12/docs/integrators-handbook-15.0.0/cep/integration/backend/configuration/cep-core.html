<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2020-09-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200925" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ReFlex ReFlex Integrator's Handbook &#x2013; CEP Core</title>
    <link rel="stylesheet" href="../../../../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../../../../css/site.css" />
    <link rel="stylesheet" href="../../../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../../../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.hannover-re.com/" id="bannerLeft">
                                                                                                <img src="../../../../images/logo.svg"  alt="HannoverRe"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://www.hannover-re.com/" id="bannerRight">
                                                                                                <img src="../../../../images/hre-logo.svg"  alt="HannoverRe_log"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 15.0.0
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-25</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                          
      <li>
  
                          <a href="../../../../index.html" title="Document Information">
          <span class="none"></span>
        Document Information</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../../../reflex-overview/index.html" title="ReFlex Overview">
          <span class="icon-chevron-right"></span>
        ReFlex Overview</a>
                  </li>
                
      <li>
  
                          <a href="../../../../installation-guide.html" title="Installation Guide">
          <span class="none"></span>
        Installation Guide</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../../../update-guide/index.html" title="Update Guide">
          <span class="icon-chevron-right"></span>
        Update Guide</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../../../use-cases/index.html" title="Use Cases">
          <span class="icon-chevron-right"></span>
        Use Cases</a>
                  </li>
                              <li class="nav-header">RAS documentation</li>
                              
      <li>
  
                          <a href="../../../../ras/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../../../ras/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                                      
      <li>
  
                          <a href="../../../../ras/general-notes/index.html" title="General Notes">
          <span class="icon-chevron-right"></span>
        General Notes</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../../../../ras/rest-resources/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../../../ras/usage-scenarios/index.html" title="Usage Scenarios">
          <span class="icon-chevron-right"></span>
        Usage Scenarios</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="../../../../ras/known-issues/index.html" title="Known Issues">
          <span class="icon-chevron-right"></span>
        Known Issues</a>
                  </li>
                              <li class="nav-header">CEP documentation</li>
                              
      <li>
  
                          <a href="../../../../cep/integration/integration_mechanism.html" title="Integration Mechanism">
          <span class="none"></span>
        Integration Mechanism</a>
            </li>
                                                                                                                                                                                                    
      <li>
  
                          <a href="../../../../cep/integration/backend/index.html" title="Back End Integration">
          <span class="icon-chevron-down"></span>
        Back End Integration</a>
                    <ul class="nav nav-list">
                                                                                                  
      <li>
  
                          <a href="../../../../cep/integration/backend/configuration/index.html" title="Configuration">
          <span class="icon-chevron-down"></span>
        Configuration</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>CEP Core</a>
          </li>
                    
      <li>
  
                          <a href="../../../../cep/integration/backend/configuration/cep-filter.html" title="Assessment Endpoint Filter">
          <span class="none"></span>
        Assessment Endpoint Filter</a>
            </li>
              </ul>
        </li>
                    
      <li>
  
                          <a href="../../../../cep/integration/backend/persistence.html" title="Persistence">
          <span class="none"></span>
        Persistence</a>
            </li>
                                                                                        
      <li>
  
                          <a href="../../../../cep/integration/backend/rest_api/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
              </ul>
        </li>
                                                                                                                                                                                                                        
      <li>
  
                          <a href="../../../../cep/integration/frontend/index.html" title="Front End Integration">
          <span class="icon-chevron-right"></span>
        Front End Integration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../../../cep/integration/features/index.html" title="Optional Features">
          <span class="icon-chevron-right"></span>
        Optional Features</a>
                  </li>
                                                                                                                              
      <li>
  
                          <a href="../../../../cep/integration/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../../../cep/integration/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">DCS documentation</li>
                              
      <li>
  
                          <a href="../../../../dcs/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="../../../../dcs/configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="../../../../dcs/rest-api.html" title="REST API">
          <span class="none"></span>
        REST API</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../../../dcs/template-config/template-configuration.html" title="Template Configuration">
          <span class="icon-chevron-right"></span>
        Template Configuration</a>
                  </li>
                
      <li>
  
                          <a href="../../../../dcs/known-issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">RSP documentation</li>
                                                                                                                                                        
      <li>
  
                          <a href="../../../../rsp/integration/integration.html" title="Integration">
          <span class="icon-chevron-right"></span>
        Integration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../../../rsp/configuration/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                              <li class="nav-header">MI documentation</li>
                              
      <li>
  
                          <a href="../../../../mi/installation/app-queue.html" title="AppQueue Installation">
          <span class="none"></span>
        AppQueue Installation</a>
            </li>
                                                                                    
      <li>
  
                          <a href="../../../../mi/index.html" title="Data export">
          <span class="icon-chevron-right"></span>
        Data export</a>
                  </li>
                              <li class="nav-header">3PS documentation</li>
                              
      <li>
  
                          <a href="../../../../tps/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../../../tps/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../../../tps/api.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                              <li class="nav-header">UWB documentation</li>
                              
      <li>
  
                          <a href="../../../../uwb/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../../../uwb/installation/index.html" title="Installation">
          <span class="icon-chevron-right"></span>
        Installation</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../../../uwb/configuration/application/index.html" title="Application Configuration">
          <span class="icon-chevron-right"></span>
        Application Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../../../uwb/configuration/office/index.html" title="Office Configuration">
          <span class="icon-chevron-right"></span>
        Office Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../../../uwb/features/index.html" title="Advanced Features">
          <span class="icon-chevron-right"></span>
        Advanced Features</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../../../../uwb/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../../../uwb/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">MIGRATION documentation</li>
                              
      <li>
  
                          <a href="../../../../migration/index.html" title="User Guide">
          <span class="none"></span>
        User Guide</a>
            </li>
                              <li class="nav-header">Appendix</li>
                              
      <li>
  
                          <a href="../../../../glossary.html" title="Glossary">
          <span class="none"></span>
        Glossary</a>
            </li>
                
      <li>
  
                          <a href="../../../../component-versions.html" title="Component Versions">
          <span class="none"></span>
        Component Versions</a>
            </li>
                                                                                                                                          
      <li>
  
                          <a href="../../../../release-migration-notes.html" title="Release And Migration Notes">
          <span class="icon-chevron-right"></span>
        Release And Migration Notes</a>
                  </li>
                
      <li>
  
                          <a href="../../../../changelog.html" title="Changelog">
          <span class="none"></span>
        Changelog</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <section>
<h2><a name="CEP_Core"></a>CEP Core</h2>
<p>This is the reference configuration for the <b>CEP core service</b> (<i>cep-core</i>).</p>
<p><code>$REFLEX_CONFIG_ROOTDIR/cep-core/config.properties</code>:</p>

<div class="source">
<div class="source"><pre class="prettyprint">#################################################################################
##                                                                             ##
##                                                                             ##
##           Main configuration file for the CEP Core Services                 ##
##                                                                             ##
##                                                                             ##
#################################################################################

# Let the backend render exceptions with detailed descriptions (values: true|false).
# This setting MUST be set to 'false' in user facing (production) deployments
# because it exposes ReFlex internals.
com.hannoverre.reflex.cep.util.mvc.errors.detailedErrorResponse=false

# The number of milliseconds an active risk assessment observer connection is maintained
# without receiving no updates.
com.hannoverre.reflex.cep.service.assessment.observe.sseTimeout=60000

# Role name for the initial write-access owner of the risk assessment
com.hannoverre.reflex.cep.service.integration.initialize.activeRole=applicant

# AWB URL to request assistance (leave empty to disable AWB dashboard notifications)
com.hannoverre.reflex.cep.service.assessment.requestAssistanceNotificationUrl=

# whether to set initial set answer by product change to readOnly or not
com.hannoverre.reflex.cep.util.initialAnswerByProductChangeReadOnly=false

#################################################################################
## Integration Service subsystem configuration                                 ##
#################################################################################

# Activates the integration service subsystem. May be disabled for different
# nodes in clustered environments.
com.hannoverre.reflex.cep.service.integration.active=true

# Scopes for tokens created by the cep-service-integration microservice (comma separated list)
com.hannoverre.reflex.cep.service.integration.signing.tokenScopes=reflex.cep.assessment
# The validity duration of JTWs generated by the cep-service-integration in seconds
com.hannoverre.reflex.cep.service.integration.signing.expirationTime=36000
# The validity duration of JTWs generated for suspended applications by the cep-service-integration in seconds
com.hannoverre.reflex.cep.service.integration.signing.suspendedTokenExpirationTime=25200

# Define the domain for which the Authorization cookie should be written (leave empty for the current domain)
com.hannoverre.reflex.cep.service.integration.cookie.domain=

# Define the paths for which the Authorization cookie should be written (comma separated). Each path will result in its own cookie.
com.hannoverre.reflex.cep.service.integration.cookie.paths=/cep-core

# Configure if the generated Authorization cookie should be sent over https only. (boolean, strongly recommended, may be set to false for local development)
com.hannoverre.reflex.cep.service.integration.cookie.secure=false

# URL to the CEP questionnaire page to forward a user to. Resolves the placeholders {assessmentId} and {language}.
com.hannoverre.reflex.cep.service.integration.forwardUrl=#!/assessment/{assessmentId}?lang={language}

# URL to the CEP questionnaire page to forward a user to. Resolves the placeholders {assessmentId}, {groupId} and {language}.
com.hannoverre.reflex.cep.service.integration.forwardUrlWithGroup=#!/assessment/{assessmentId}/{groupId}?lang={language}

# URL to the CEP questionnaire page to forward a user to after the questionnaire has been complete successfully.
# The placeholders {assessmentId} is replaces by the actual assessment id. This property is optional and only used if no callbackUrl is provided during an assessment initialization.
com.hannoverre.reflex.cep.service.integration.defaultCallbackUrl=

# URL of the AWB Cockpit.
# Leave blank or remove if no cockpit is deployed
com.hannoverre.reflex.cep.service.integration.cockpit.rest.baseUrl=http://localhost:8080/awb/cockpit

#################################################################################
## Assessment Service subsystem configuration                                  ##
#################################################################################

# Activates the assessment service subsystem. May be disabled for different
# nodes in clustered environments.
com.hannoverre.reflex.cep.service.assessment.active=true

# File URL to the JSON filter configuration
com.hannoverre.reflex.cep.service.assessment.filter=file:${REFLEX_CONFIG_ROOTDIR}/cep-core/applicationDataFilterRules.spel

# Source identifier that should be used for answerModifications in the risk assessment model.
com.hannoverre.reflex.cep.service.assessment.modificationSource=anonymous:Applicant

# Only questions with this assignee may be answered through the assessment service. All questions may be answered if left empty.
com.hannoverre.reflex.cep.service.assessment.userAssignee=Applicant

# JWT scopes that are required to use the service-assessment endpoints
com.hannoverre.reflex.cep.service.assessment.requiredScopes=reflex.cep.assessment
com.hannoverre.reflex.cep.service.search.requiredScopes=reflex.cep.assessment

#################################################################################
## Document Service subsystem configuration                                    ##
#################################################################################

# Activates the document service subsystem. May be disabled for different
# nodes in clustered environments.
com.hannoverre.reflex.cep.service.document.active=true

# JWT scopes that are required to use cep-service-document microservice
com.hannoverre.reflex.cep.service.document.requiredScopes=reflex.cep.assessment

# DCS URL template
com.hannoverre.reflex.cep.service.document.dcs.rest.urlTemplate=http://localhost:8080/dcs/document?language={language}&amp;type={type}

#################################################################################
## Shared RAS REST Client Configuration                                        ##
#################################################################################

# RAS REST URL
com.hannoverre.reflex.cep.util.ras.rest.baseUrl=http://localhost:8080/ras-web/

# RAS REST username for basic authentication
com.hannoverre.reflex.cep.util.ras.user=user

# RAS REST password for basic authentication
com.hannoverre.reflex.cep.util.ras.password=password

# Id of knowledgebase to use for an assessment.
# Leave blank or remove if not needed
com.hannoverre.reflex.cep.util.ras.knowledgebase.id=

# Toggle flags (comma+space separated) that should be sent to the RAS middleware when assessing an application.
# Possible values are:
# - baseRatingsEnabled     --&gt; base ratings (results before flex rule execution) will be delivered in the JSON case data
#                              in addition to the overall risk assessment result
# - flexRuleResultsEnabled --&gt; intermediate results during flex rule execution (ratings in, ratings out) will be
#                              delivered in the JSON case data in addition to the overall risk assessment result
com.hannoverre.reflex.cep.util.ras.rest.flags=baseRatingsEnabled, flexRuleResultsEnabled


#################################################################################
## Shared Persistence Configuration                                            ##
#################################################################################

# Configuration of the JDBC datasource for storing active risk assessments
com.hannoverre.reflex.cep.storage.riskassessment.datasource.url=
com.hannoverre.reflex.cep.storage.riskassessment.datasource.driver=
com.hannoverre.reflex.cep.storage.riskassessment.datasource.username=sa
com.hannoverre.reflex.cep.storage.riskassessment.datasource.password=
com.hannoverre.reflex.cep.storage.riskassessment.entitymanager.jpaproperties.hibernate.hb2ddl.auto=update
com.hannoverre.reflex.cep.storage.riskassessment.entitymanager.jpaproperties.hibernate.dialect=org.hibernate.dialect.H2Dialect
com.hannoverre.reflex.cep.storage.riskassessment.entitymanager.persistenceUnitName=cep-core_riskassessment

# Configuration of the hazelcast datasource for storing active risk assessments
com.hannoverre.reflex.cep.storage.riskassessment.mode=hazelcast
com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.group.name=cep
com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.group.password=password
# The number of seconds a riskassessment stays in the cache without any interaction.
com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.maxIdleSeconds=600
# Configure other seed nodes for this hazelcast cluster. See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#join
com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.network.join.tcp.members=localhost
# Configure the network interfaces this hazelcast node should bind to. Defaults to 0.0.0.0 (all interfaces). See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#interfaces
#com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.network.interfaces=
# Configure the public address of this hazelcast node. If not specified, the internal address will be advertised. See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#public-address
#com.hannoverre.reflex.cep.storage.riskassessment.hazelcast.network.publicAddress=

# Configuration of the JDBC datasource for storing suspended risk assessments
com.hannoverre.reflex.cep.storage.suspendedriskassessment.datasource.url=jdbc:h2:${REFLEX_CONFIG_ROOTDIR}/cep-db/cep-storage-suspended-riskassessment;DB_CLOSE_DELAY=10;AUTO_SERVER=TRUE
com.hannoverre.reflex.cep.storage.suspendedriskassessment.datasource.driver=
com.hannoverre.reflex.cep.storage.suspendedriskassessment.datasource.username=sa
com.hannoverre.reflex.cep.storage.suspendedriskassessment.datasource.password=
com.hannoverre.reflex.cep.storage.suspendedriskassessment.entitymanager.jpaproperties.hibernate.hb2ddl.auto=update
com.hannoverre.reflex.cep.storage.suspendedriskassessment.entitymanager.jpaproperties.hibernate.dialect=org.hibernate.dialect.H2Dialect
com.hannoverre.reflex.cep.storage.suspendedriskassessment.entitymanager.persistenceUnitName=cep-core_suspendedriskassessment

# Configuration of the hazelcast datasource for storing suspended risk assessments
com.hannoverre.reflex.cep.storage.suspendedriskassessment.mode=hazelcast
com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.group.name=cep
com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.group.password=password
# The number of seconds a suspendedriskassessment stays in the cache without any interaction.
com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.maxIdleSeconds=3600
# Configure other seed nodes for this hazelcast cluster. See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#join
com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.network.join.tcp.members=localhost
# Configure the network interfaces this hazelcast node should bind to. Defaults to 0.0.0.0 (all interfaces). See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#interfaces
#com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.network.interfaces=
# Configure the public address of this hazelcast node. If not specified, the internal address will be advertised. See also: http://docs.hazelcast.org/docs/3.6/manual/html-single/index.html#public-address
#com.hannoverre.reflex.cep.storage.suspendedriskassessment.hazelcast.network.publicAddress=

#################################################################################
## Shared Security Configuration                                               ##
#################################################################################

# Location of the keystore
com.hannoverre.reflex.cep.security.keystore=file:${REFLEX_CONFIG_ROOTDIR}/cep-core/keystore.json
# White-list (csv) of permitted signature algorithms used in signature validations.
# Valid algorithms are: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
com.hannoverre.reflex.cep.security.jwsAlgorithmWhiteList=HS256,HS512,RS256,RS512
# Tolerance between token expiry time and system time to mitigate clock skew (in seconds).
com.hannoverre.reflex.cep.security.allowedClockSkew=3600

#################################################################################
## CEP Security Signing Configuration                                          ##
#################################################################################
# The key identifier that is used to sign tokens issued by the cep.
com.hannoverre.reflex.cep.security.signing.kid=cep

# The time when the token starts to become valid (current time minus given number of seconds).
com.hannoverre.reflex.cep.security.signing.notBeforeTimeOffset=60
# The signing algorithm to use to create the signature of the Json Web Token.
# Valid algorithms are: HS256, HS384, HS512, RS256, RS384, RS512, ES256, ES384, ES512
com.hannoverre.reflex.cep.security.signing.algorithm=HS256
com.hannoverre.reflex.cep.security.signing.issuer=CEP

#################################################################################
## CEP Security Encryption Configuration                                       ##
#################################################################################
# The key identifier that is used to encrypt documents issued by the cep.
com.hannoverre.reflex.cep.security.encryption.kid=cep_external_suspend
# The algorithm used to encrypt documents. This algorithm must match the &quot;alg&quot;
# parameter of the corresponding key in the keystore. The use of algorithm
# A256GCM is recommended since it offers the highest level of security of all
# currently supported algorithms.
com.hannoverre.reflex.cep.security.encryption.algorithm=A256GCM
</pre></div></div></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2020.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
