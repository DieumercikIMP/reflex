<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2020-09-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200925" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ReFlex ReFlex Integrator's Handbook &#x2013; Export via API</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.hannover-re.com/" id="bannerLeft">
                                                                                                <img src="../images/logo.svg"  alt="HannoverRe"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://www.hannover-re.com/" id="bannerRight">
                                                                                                <img src="../images/hre-logo.svg"  alt="HannoverRe_log"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 15.0.0
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-25</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                          
      <li>
  
                          <a href="../index.html" title="Document Information">
          <span class="none"></span>
        Document Information</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../reflex-overview/index.html" title="ReFlex Overview">
          <span class="icon-chevron-right"></span>
        ReFlex Overview</a>
                  </li>
                
      <li>
  
                          <a href="../installation-guide.html" title="Installation Guide">
          <span class="none"></span>
        Installation Guide</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../update-guide/index.html" title="Update Guide">
          <span class="icon-chevron-right"></span>
        Update Guide</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../use-cases/index.html" title="Use Cases">
          <span class="icon-chevron-right"></span>
        Use Cases</a>
                  </li>
                              <li class="nav-header">RAS documentation</li>
                              
      <li>
  
                          <a href="../ras/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../ras/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                                      
      <li>
  
                          <a href="../ras/general-notes/index.html" title="General Notes">
          <span class="icon-chevron-right"></span>
        General Notes</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../ras/rest-resources/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../ras/usage-scenarios/index.html" title="Usage Scenarios">
          <span class="icon-chevron-right"></span>
        Usage Scenarios</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="../ras/known-issues/index.html" title="Known Issues">
          <span class="icon-chevron-right"></span>
        Known Issues</a>
                  </li>
                              <li class="nav-header">CEP documentation</li>
                              
      <li>
  
                          <a href="../cep/integration/integration_mechanism.html" title="Integration Mechanism">
          <span class="none"></span>
        Integration Mechanism</a>
            </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="../cep/integration/backend/index.html" title="Back End Integration">
          <span class="icon-chevron-right"></span>
        Back End Integration</a>
                  </li>
                                                                                                                                                                                                                        
      <li>
  
                          <a href="../cep/integration/frontend/index.html" title="Front End Integration">
          <span class="icon-chevron-right"></span>
        Front End Integration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../cep/integration/features/index.html" title="Optional Features">
          <span class="icon-chevron-right"></span>
        Optional Features</a>
                  </li>
                                                                                                                              
      <li>
  
                          <a href="../cep/integration/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../cep/integration/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">DCS documentation</li>
                              
      <li>
  
                          <a href="../dcs/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="../dcs/configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="../dcs/rest-api.html" title="REST API">
          <span class="none"></span>
        REST API</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../dcs/template-config/template-configuration.html" title="Template Configuration">
          <span class="icon-chevron-right"></span>
        Template Configuration</a>
                  </li>
                
      <li>
  
                          <a href="../dcs/known-issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">RSP documentation</li>
                                                                                                                                                        
      <li>
  
                          <a href="../rsp/integration/integration.html" title="Integration">
          <span class="icon-chevron-right"></span>
        Integration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../rsp/configuration/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                              <li class="nav-header">MI documentation</li>
                              
      <li>
  
                          <a href="../mi/installation/app-queue.html" title="AppQueue Installation">
          <span class="none"></span>
        AppQueue Installation</a>
            </li>
                                                                                              
      <li>
  
                          <a href="../mi/index.html" title="Data export">
          <span class="icon-chevron-down"></span>
        Data export</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Export via API</a>
          </li>
                    
      <li>
  
                          <a href="../mi/exportViaDashboard.html" title="Export via Dashboard">
          <span class="none"></span>
        Export via Dashboard</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">3PS documentation</li>
                              
      <li>
  
                          <a href="../tps/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../tps/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../tps/api.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                              <li class="nav-header">UWB documentation</li>
                              
      <li>
  
                          <a href="../uwb/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="../uwb/installation/index.html" title="Installation">
          <span class="icon-chevron-right"></span>
        Installation</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../uwb/configuration/application/index.html" title="Application Configuration">
          <span class="icon-chevron-right"></span>
        Application Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../uwb/configuration/office/index.html" title="Office Configuration">
          <span class="icon-chevron-right"></span>
        Office Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../uwb/features/index.html" title="Advanced Features">
          <span class="icon-chevron-right"></span>
        Advanced Features</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../uwb/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../uwb/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">MIGRATION documentation</li>
                              
      <li>
  
                          <a href="../migration/index.html" title="User Guide">
          <span class="none"></span>
        User Guide</a>
            </li>
                              <li class="nav-header">Appendix</li>
                              
      <li>
  
                          <a href="../glossary.html" title="Glossary">
          <span class="none"></span>
        Glossary</a>
            </li>
                
      <li>
  
                          <a href="../component-versions.html" title="Component Versions">
          <span class="none"></span>
        Component Versions</a>
            </li>
                                                                                                                                          
      <li>
  
                          <a href="../release-migration-notes.html" title="Release And Migration Notes">
          <span class="icon-chevron-right"></span>
        Release And Migration Notes</a>
                  </li>
                
      <li>
  
                          <a href="../changelog.html" title="Changelog">
          <span class="none"></span>
        Changelog</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Export via API</h1><section>
<h2><a name="General"></a>General</h2><section>
<h3><a name="Security_and_Authentication"></a>Security and Authentication</h3>
<p>Authentication is done by your client ssl-certificates.</p></section><section>
<h3><a name="Systems"></a>Systems</h3>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> # </th>
<th> Stage         </th>
<th>                   URL                  </th></tr>
</thead><tbody>

<tr class="b">
<td> 1 </td>
<td> Preproduction </td>
<td> <a class="externalLink" href="https://reflex-mi-prep.hannover-re.com">https://reflex-mi-prep.hannover-re.com</a> </td></tr>
<tr class="a">
<td> 2 </td>
<td> Production    </td>
<td> <a class="externalLink" href="https://reflex-mi.hannover-re.com">https://reflex-mi.hannover-re.com</a>      </td></tr>
</tbody>
</table></section><section>
<h3><a name="API_endpoints"></a>API endpoints</h3>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> # </th>
<th> Method </th>
<th>         URI                                          </th>
<th>        Media taype       </th>
<th> Status code </th></tr>
</thead><tbody>

<tr class="b">
<td> <a href="#Export">1</a> </td>
<td> GET    </td>
<td> /reflex/cedents/{cedentId}/export                       </td>
<td>                          </td>
<td>     202     </td></tr>
<tr class="a">
<td> <a href="#Download">2</a> </td>
<td> GET    </td>
<td> /reflex/cedents/{cedentId}/download/{filename}           </td>
<td> application/octet-stream </td>
<td>   202 / 200 </td></tr>
<tr class="b">
<td> <a href="#Delete">3</a> </td>
<td> DELETE </td>
<td> /reflex/cedents/{cedentId}/applications/{applicationId} </td>
<td>                          </td>
<td>     200     </td></tr>
</tbody>
</table></section><section>
<h3><a name="Sending_GET_Request_via_Postman"></a>Sending GET Request via Postman <a name="postman"></a></h3>
<p>Use [Postman](<a class="externalLink" href="https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=de">https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=de</a> &#x201c;Postman&#x201d; target=&#x201c;_blank&#x201d;) or [curl](<a class="externalLink" href="https://curl.haxx.se/">https://curl.haxx.se/</a> &#x201c;curl&#x201d; target=&#x201c;_blank&#x201d;) to test communication to the server.</p></section><section>
<h3><a name="Export"></a>Export</h3>
<p>The export endpoint triggers the start of an export. The request will be redirected to th download endpoint. The redirection endpoint can be polled until the server-generated export zip file is ready for download. The file will be streamed to the requesting client. The resulting zip file contains csv data files in a kind of relational data.</p><section>
<h4><a name="Parameter"></a>Parameter</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> name        </th>
<th> mandatory </th>
<th> description   </th>
<th>   type       </th>
<th> example </th></tr>
</thead><tbody>

<tr class="b">
<td> cedentId    </td>
<td>     X     </td>
<td> cedent identifier              </td>
<td> path variable </td>
<td> /reflex/cedents/<b>123-cedent</b>/export </td></tr>
<tr class="a">
<td> infs[]      </td>
<td>           </td>
<td> included facettes              </td>
<td> query param   </td>
<td> /reflex/cedents/123-cedent/export?<b>infs%5B%5D=Decision-Status%3AAccept&amp;infs%5B%5D=Gender%3AM</b> </td></tr>
<tr class="b">
<td> exfs[]      </td>
<td>           </td>
<td> excluded facettes              </td>
<td> query param   </td>
<td> /reflex/cedents/123-cedent/export?<b>exfs%5B%5D=Decision-Status%3AAccept&amp;exfs%5B%5D=Gender%3AM</b> </td></tr>
<tr class="a">
<td> startdate   </td>
<td>           </td>
<td> begin of date range            </td>
<td> query param   </td>
<td> /reflex/cedents/123-cedent/export?<b>startdate=2017-02-09</b> </td></tr>
<tr class="b">
<td> enddate     </td>
<td>           </td>
<td> end of data range              </td>
<td> query param   </td>
<td> /reflex/cedents/123-cedent/export?<b>enddate=2019-02-08</b> </td></tr>
<tr class="a">
<td> reldate     </td>
<td>           </td>
<td> predefined relative date ranges</td>
<td> query param   </td>
<td> /reflex/cedents/123-cedent/export?<b>reldate=previous-24-months</b></td></tr>
</tbody>
</table>
<p>The above described parameters can be combined as needed. The request will initiate an export process on the server side and will return with a http status code 202 and the download location specified in the Location header.</p></section><section>
<h4><a name="Response_header"></a>Response header</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> name         </th>
<th> value (default or example)                           </th></tr>
</thead><tbody>

<tr class="b">
<td> Location     </td>
<td> /reflex/cedents/123-cedent/download/export12345678.zip  </td></tr>
</tbody>
</table></section><section>
<h4><a name="Example"></a>Example</h4>

<div class="source">
<div class="source"><pre class="prettyprint">~ # curl -X GET --cert path/to/certificate.pem https://reflex-mi-prep.hannover-re.com/reflex/cedents/123-cedent/export?infs%5B%5D=Decision-Status%3AAccept&amp;infs%5B%5D=Gender%3AM&amp;page=1&amp;startdate=2017-02-09&amp;enddate=2019-02-08'
&lt; HTTP/1.1 202
&lt; Location: /reflex/cedents/123-cedent/download/export3667107160653930325.zip
&lt; accept: */*
&lt; action: export
&lt; breadcrumbId: 550235500014-1-44
&lt; cedentId: 123-cedent
&lt; Content-Description: Trigger data export
&lt; enddate: 2019-02-08
&lt; infs[]: Decision-Status:Accept
&lt; infs[]: Gender:M
&lt; page: 1
&lt; startdate: 2017-02-09
&lt; user-agent: curl/7.54.0
~ #
</pre></div></div>
</section></section><section>
<h3><a name="Download"></a>Download</h3><section>
<h4><a name="Parameter"></a>Parameter</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> name        </th>
<th> mandatory </th>
<th> description   </th>
<th>   type       </th>
<th> example </th></tr>
</thead><tbody>

<tr class="b">
<td> cedentId    </td>
<td>     X     </td>
<td> cedent identifier              </td>
<td> path variable </td>
<td> /reflex/cedents/<b>123-cedent</b>/export </td></tr>
<tr class="a">
<td> filename    </td>
<td>     X     </td>
<td> a filename provided by the server side to request </td>
<td> path variable </td>
<td> /reflex/cedents/123-cedent/download/<b>export12345678.zip</b> </td></tr>
</tbody>
</table></section><section>
<h4><a name="Response_header"></a>Response header</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> name         </th>
<th> value (default or example)                           </th></tr>
</thead><tbody>

<tr class="b">
<td> Location     </td>
<td> /reflex/cedents/123-cedent/download/export12345678.zip  </td></tr>
<tr class="a">
<td> Content-Type </td>
<td> application/octet-stream                             </td></tr>
</tbody>
</table>
<p>As long as the server collects the data for the requested export download, the specified URI has to be polled until the http status code 200 occurs instead of 202 an the zipfile will be downloaded.</p></section><section>
<h4><a name="Example"></a>Example</h4>
<p>Collecting export data in progress:</p>

<div class="source">
<div class="source"><pre class="prettyprint">~ # curl -X GET -o export.zip --cert path/to/certificate.pem https://reflex-mi-prep.hannover-re.com/reflex/cedents/123-cedent/download/export123456789876543.zip
&lt; HTTP/1.1 202
&lt; Content-Description: File Transfer
&lt; Content-Dispostion: attachment; filename=&quot;export.zip&quot;
&lt; Content-Transfer-Encoding: binary
&lt; Content-Length: 0
&lt; Date: Mon, 18 Feb 2019 13:23:17 GMT
&lt;
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
* Connection #0 to host localhost left intact
</pre></div></div>

<p>Collecting export data completed:</p>

<div class="source">
<div class="source"><pre class="prettyprint">~ # curl -X GET -o export.zip --cert path/to/certificate.pem https://reflex-mi-prep.hannover-re.com/reflex/cedents/123-cedent/download/export123456789876543.zip
&lt; HTTP/1.1 200
&lt; Content-Description: File Transfer
&lt; Content-Dispostion: attachment; filename=&quot;export.zip&quot;
&lt; Content-Transfer-Encoding: binary
&lt; Content-Type: application/octet-stream
&lt; Transfer-Encoding: chunked
&lt; Date: Mon, 18 Feb 2019 12:55:51 GMT
&lt;
{ [16136 bytes data]
100 8490k    0 8490k    0     0   100M      0 --:--:-- --:--:-- --:--:--  101M
* Connection #0 to host localhost left intact
~ # ls -al
-rw-r--r--  1 root  root    12M 15 Feb 14:02 export.zip
~ # 
</pre></div></div>
</section></section><section>
<h3><a name="Delete"></a>Delete</h3><section>
<h4><a name="Parameter"></a>Parameter</h4>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> name          </th>
<th> mandatory </th>
<th> description   </th>
<th>   type       </th>
<th> example </th></tr>
</thead><tbody>

<tr class="b">
<td> cedentId      </td>
<td>     X     </td>
<td> cedent identifier              </td>
<td> path variable </td>
<td> /reflex/cedents/<b>123-cedent</b>/applications/{applicationId} </td></tr>
<tr class="a">
<td> applicationId </td>
<td>     X     </td>
<td> document identifier            </td>
<td> path variable </td>
<td> /reflex/cedents/123-cedent/applications/<b>e1c5a509-7820-4e92-a520-a41dcfecfc5f</b> </td></tr>
</tbody>
</table></section><section>
<h4><a name="Example"></a>Example</h4>

<div class="source">
<div class="source"><pre class="prettyprint">~ # curl -v -X DELETE --cert path/to/certificate.pem https://reflex-mi-prep.hannover-re.com/reflex/cedents/123-cedent/applications/e1c5a509-7820-4e92-a520-a41dcfecfc5f
...
&lt; HTTP/1.1 200
&lt; Date: Mon, 18 Feb 2019 13:19:09 GMT
&lt; Server: Apache
&lt; Strict-Transport-Security: max-age=63072000; includeSubdomains; preload
&lt; X-Frame-Options: SAMEORIGIN
&lt; accept: */*
&lt; applicationId: e1c5a509-7820-4e92-a520-a41dcfecfc5f
&lt; breadcrumbId: ID-app1-1546959930295-1-3316
&lt; cedentId: 123-cedent
&lt; user-agent: curl/7.54.0
&lt; x-forwarded-for: 10.150.146.10
&lt; x-forwarded-host: reflex-mi-prep.hannover-re.com
&lt; x-forwarded-server: reflex-mi-prep.hannover-re.com
&lt; x-forwarded-ssl_client_s_dn_cn: Preproduction
&lt; x-forwarded-ssl_client_s_dn_o: HRE-EN-Demo
&lt; Content-Length: 0
&lt; Via: 1.1 reflex-mi-prep.hannover-re.com
&lt; X-XSS-Protection: 1; mode=block
&lt;
* Connection #0 to host reflex-mi-prep.hannover-re.com left intact
~ #
</pre></div></div></section></section></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2020.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
