<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2020-09-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200925" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ReFlex ReFlex Integrator's Handbook &#x2013; </title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.hannover-re.com/" id="bannerLeft">
                                                                                                <img src="../../images/logo.svg"  alt="HannoverRe"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://www.hannover-re.com/" id="bannerRight">
                                                                                                <img src="../../images/hre-logo.svg"  alt="HannoverRe_log"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 15.0.0
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-25</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                          
      <li>
  
                          <a href="../../index.html" title="Document Information">
          <span class="none"></span>
        Document Information</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../reflex-overview/index.html" title="ReFlex Overview">
          <span class="icon-chevron-right"></span>
        ReFlex Overview</a>
                  </li>
                
      <li>
  
                          <a href="../../installation-guide.html" title="Installation Guide">
          <span class="none"></span>
        Installation Guide</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../update-guide/index.html" title="Update Guide">
          <span class="icon-chevron-right"></span>
        Update Guide</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../use-cases/index.html" title="Use Cases">
          <span class="icon-chevron-right"></span>
        Use Cases</a>
                  </li>
                              <li class="nav-header">RAS documentation</li>
                              
      <li>
  
                          <a href="../../ras/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                
      <li>
  
                          <a href="../../ras/configuration.html" title="Configuration">
          <span class="icon-chevron-down"></span>
        Configuration</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../../ras/configuration/sample-configuration.html" title="Sample Configuration">
          <span class="none"></span>
        Sample Configuration</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Logging</a>
          </li>
                    
      <li>
  
                          <a href="../../ras/configuration/security.html" title="Security">
          <span class="none"></span>
        Security</a>
            </li>
              </ul>
        </li>
                                                                                                      
      <li>
  
                          <a href="../../ras/general-notes/index.html" title="General Notes">
          <span class="icon-chevron-right"></span>
        General Notes</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../../ras/rest-resources/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../ras/usage-scenarios/index.html" title="Usage Scenarios">
          <span class="icon-chevron-right"></span>
        Usage Scenarios</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="../../ras/known-issues/index.html" title="Known Issues">
          <span class="icon-chevron-right"></span>
        Known Issues</a>
                  </li>
                              <li class="nav-header">CEP documentation</li>
                              
      <li>
  
                          <a href="../../cep/integration/integration_mechanism.html" title="Integration Mechanism">
          <span class="none"></span>
        Integration Mechanism</a>
            </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="../../cep/integration/backend/index.html" title="Back End Integration">
          <span class="icon-chevron-right"></span>
        Back End Integration</a>
                  </li>
                                                                                                                                                                                                                        
      <li>
  
                          <a href="../../cep/integration/frontend/index.html" title="Front End Integration">
          <span class="icon-chevron-right"></span>
        Front End Integration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../cep/integration/features/index.html" title="Optional Features">
          <span class="icon-chevron-right"></span>
        Optional Features</a>
                  </li>
                                                                                                                              
      <li>
  
                          <a href="../../cep/integration/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../cep/integration/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">DCS documentation</li>
                              
      <li>
  
                          <a href="../../dcs/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/rest-api.html" title="REST API">
          <span class="none"></span>
        REST API</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../dcs/template-config/template-configuration.html" title="Template Configuration">
          <span class="icon-chevron-right"></span>
        Template Configuration</a>
                  </li>
                
      <li>
  
                          <a href="../../dcs/known-issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">RSP documentation</li>
                                                                                                                                                        
      <li>
  
                          <a href="../../rsp/integration/integration.html" title="Integration">
          <span class="icon-chevron-right"></span>
        Integration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../rsp/configuration/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                              <li class="nav-header">MI documentation</li>
                              
      <li>
  
                          <a href="../../mi/installation/app-queue.html" title="AppQueue Installation">
          <span class="none"></span>
        AppQueue Installation</a>
            </li>
                                                                                    
      <li>
  
                          <a href="../../mi/index.html" title="Data export">
          <span class="icon-chevron-right"></span>
        Data export</a>
                  </li>
                              <li class="nav-header">3PS documentation</li>
                              
      <li>
  
                          <a href="../../tps/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../tps/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../tps/api.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                              <li class="nav-header">UWB documentation</li>
                              
      <li>
  
                          <a href="../../uwb/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../uwb/installation/index.html" title="Installation">
          <span class="icon-chevron-right"></span>
        Installation</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../uwb/configuration/application/index.html" title="Application Configuration">
          <span class="icon-chevron-right"></span>
        Application Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../uwb/configuration/office/index.html" title="Office Configuration">
          <span class="icon-chevron-right"></span>
        Office Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../uwb/features/index.html" title="Advanced Features">
          <span class="icon-chevron-right"></span>
        Advanced Features</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../../uwb/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../uwb/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">MIGRATION documentation</li>
                              
      <li>
  
                          <a href="../../migration/index.html" title="User Guide">
          <span class="none"></span>
        User Guide</a>
            </li>
                              <li class="nav-header">Appendix</li>
                              
      <li>
  
                          <a href="../../glossary.html" title="Glossary">
          <span class="none"></span>
        Glossary</a>
            </li>
                
      <li>
  
                          <a href="../../component-versions.html" title="Component Versions">
          <span class="none"></span>
        Component Versions</a>
            </li>
                                                                                                                                          
      <li>
  
                          <a href="../../release-migration-notes.html" title="Release And Migration Notes">
          <span class="icon-chevron-right"></span>
        Release And Migration Notes</a>
                  </li>
                
      <li>
  
                          <a href="../../changelog.html" title="Changelog">
          <span class="none"></span>
        Changelog</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Logging</h1>
<section>
<h2><a name="Logging_of_confidential_information"></a>Logging of confidential information</h2>

<p>Private and confidential data that is used in the processing of applications could be contained in certain logging messages and is therefore stored in the system for a longer period than required for processing the request. This data contained in logging messages is not (pseudo-)anonymized.</p>
<p>The information is collected with the purpose of monitoring system health, helping with post-mortem analysis of incorrect system behaviour and providing information for the support teams.</p>
<p>Typically, log files are written to the filesystem. Depending on the configuration of the logging system, additional scenarios are possible, including storage in databases and post-processing for system monitoring.</p>
<p>The amount and detail of information that is logged can be configured through e.g. log levels. Setting the log level to <code>Error</code> as is shown in the next section will log only the most critical failures.</p>
</section><section>
<h2><a name="Configuration_example"></a>Configuration example</h2>

<p>The sample configuration for RAS-REST contains a <code>logback-spring.xml</code> which has been configured for production environments and only logs errors as well as some selected info messages (i.e. after the successful deployment of a knowledge base).</p>
<p>Beyond this, the logging for RAS-REST and RAS Runtime aims to follow the ReFlex logging rules regarding the following log levels:</p>
<dl>

<dt><code>Info</code></dt>
<dd>An expected event occurs that is of interest to developers and administrators, e.g. life cycle information of different components.</dd>
<dt><code>Warning</code></dt>
<dd>An event occurred indicating irregular circumstances but the application is still able to process the request and can provide a meaningful response or providing a reasonable solution.</dd>
<dt><code>Error</code></dt>
<dd>The application cannot process a single request due to an unexpected event. The application cannot answer the request with a meaningful response, i.e. it responds with an error message.</dd>
</dl>
</section><section>
<h2><a name="GELF_appender"></a>GELF appender</h2>

<p>The RAS-REST web application supports the use of Logstash/GELF to send log messages a Graylog server. The <code>logback-spring.xml</code> in the sample configuration contains a commented out Logstash/GELF appender that can be configured for this purpose.</p>
<p>Please refer to the documentation of the Logstash/GELF appender for more information on customisation options.</p>
</section><section>
<h2><a name="Sample_logback-spring.xml"></a>Sample logback-spring.xml</h2>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;configuration&gt;
    &lt;include resource=&quot;com/hannoverre/reflex/common/web/spring/boot/defaults.xml&quot;/&gt;
    
    &lt;appender name=&quot;rasFileAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{1}: %m%n&lt;/pattern&gt;
        &lt;/encoder&gt;
        &lt;file&gt;${REFLEX_LOG_ROOTDIR}/ras.log&lt;/file&gt;
        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;
            &lt;fileNamePattern&gt;ras.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;
        &lt;/rollingPolicy&gt;
    &lt;/appender&gt;

    &lt;appender name=&quot;rasJsonFileAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;
        &lt;encoder&gt;
            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p %c{1}: %m%n&lt;/pattern&gt;
        &lt;/encoder&gt;
        &lt;file&gt;${REFLEX_LOG_ROOTDIR}/ras_json.log&lt;/file&gt;
        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;
            &lt;fileNamePattern&gt;ras_json.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;
        &lt;/rollingPolicy&gt;
    &lt;/appender&gt;
    
    &lt;!--&lt;appender name=&quot;rasGelfAppender&quot; class=&quot;biz.paluch.logging.gelf.logback.GelfLogbackAppender&quot;&gt;--&gt;
    &lt;!--    &lt;host&gt;udp:localhost&lt;/host&gt;--&gt;
    &lt;!--    &lt;port&gt;12201&lt;/port&gt;--&gt;
    &lt;!--&lt;/appender&gt;--&gt;

    &lt;!-- Increase the log level from &quot;error&quot; to &quot;info&quot; to log all requests, or to &quot;trace&quot; in order to
    log the duration of request / response cycles --&gt;
    &lt;logger name=&quot;com.hannoverre.reflex.ras.rest.webapp.logging.LoggingFilter&quot;
            level=&quot;error&quot;
            additivity=&quot;false&quot;&gt;
        &lt;appender-ref ref=&quot;rasJsonFileAppender&quot;/&gt;
    &lt;/logger&gt;

    &lt;logger name=&quot;com.hannoverre.reflex.ras.runtime.repository.knowledgebase.KnowledgeBaseFileSystemRepository&quot;
            level=&quot;info&quot;
            additivity=&quot;false&quot;&gt;
        &lt;appender-ref ref=&quot;rasFileAppender&quot;/&gt;
    &lt;/logger&gt;

    &lt;!-- Must be set to error according to reflex logging conventions --&gt;
    &lt;root level=&quot;error&quot;&gt;
        &lt;appender-ref ref=&quot;rasFileAppender&quot;/&gt;
    &lt;/root&gt;
&lt;/configuration&gt;
</pre></div></div>

<p><b>Note:</b></p>
<p>Please note that the sample <code>logback-spring.xml</code> has been configured to not log every HTTP request and response to RAS-REST resources by default, but stick to <code>error</code> level messages. This reduces the number of IO operations in production environments. In order to log every request the log level needs to be increased to <code>info</code>. To log additionally the duration of request / response cycles the log level must be increased to <code>trace</code>. Also note, that all log entries will be logged in a separate file.</p></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2020.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
