<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2020-09-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200925" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ReFlex ReFlex Integrator's Handbook &#x2013; Constraints</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.hannover-re.com/" id="bannerLeft">
                                                                                                <img src="../../images/logo.svg"  alt="HannoverRe"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://www.hannover-re.com/" id="bannerRight">
                                                                                                <img src="../../images/hre-logo.svg"  alt="HannoverRe_log"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 15.0.0
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-25</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                          
      <li>
  
                          <a href="../../index.html" title="Document Information">
          <span class="none"></span>
        Document Information</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../reflex-overview/index.html" title="ReFlex Overview">
          <span class="icon-chevron-right"></span>
        ReFlex Overview</a>
                  </li>
                
      <li>
  
                          <a href="../../installation-guide.html" title="Installation Guide">
          <span class="none"></span>
        Installation Guide</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../update-guide/index.html" title="Update Guide">
          <span class="icon-chevron-right"></span>
        Update Guide</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../use-cases/index.html" title="Use Cases">
          <span class="icon-chevron-right"></span>
        Use Cases</a>
                  </li>
                              <li class="nav-header">RAS documentation</li>
                              
      <li>
  
                          <a href="../../ras/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../ras/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                                                
      <li>
  
                          <a href="../../ras/general-notes/index.html" title="General Notes">
          <span class="icon-chevron-down"></span>
        General Notes</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="../../ras/general-notes/timezones.html" title="Time Zones">
          <span class="none"></span>
        Time Zones</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>Constraints</a>
          </li>
                    
      <li>
  
                          <a href="../../ras/general-notes/pagination.html" title="Pagination">
          <span class="none"></span>
        Pagination</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../../ras/rest-resources/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../ras/usage-scenarios/index.html" title="Usage Scenarios">
          <span class="icon-chevron-right"></span>
        Usage Scenarios</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="../../ras/known-issues/index.html" title="Known Issues">
          <span class="icon-chevron-right"></span>
        Known Issues</a>
                  </li>
                              <li class="nav-header">CEP documentation</li>
                              
      <li>
  
                          <a href="../../cep/integration/integration_mechanism.html" title="Integration Mechanism">
          <span class="none"></span>
        Integration Mechanism</a>
            </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="../../cep/integration/backend/index.html" title="Back End Integration">
          <span class="icon-chevron-right"></span>
        Back End Integration</a>
                  </li>
                                                                                                                                                                                                                        
      <li>
  
                          <a href="../../cep/integration/frontend/index.html" title="Front End Integration">
          <span class="icon-chevron-right"></span>
        Front End Integration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../cep/integration/features/index.html" title="Optional Features">
          <span class="icon-chevron-right"></span>
        Optional Features</a>
                  </li>
                                                                                                                              
      <li>
  
                          <a href="../../cep/integration/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../cep/integration/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">DCS documentation</li>
                              
      <li>
  
                          <a href="../../dcs/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/rest-api.html" title="REST API">
          <span class="none"></span>
        REST API</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../dcs/template-config/template-configuration.html" title="Template Configuration">
          <span class="icon-chevron-right"></span>
        Template Configuration</a>
                  </li>
                
      <li>
  
                          <a href="../../dcs/known-issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">RSP documentation</li>
                                                                                                                                                        
      <li>
  
                          <a href="../../rsp/integration/integration.html" title="Integration">
          <span class="icon-chevron-right"></span>
        Integration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../rsp/configuration/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                              <li class="nav-header">MI documentation</li>
                              
      <li>
  
                          <a href="../../mi/installation/app-queue.html" title="AppQueue Installation">
          <span class="none"></span>
        AppQueue Installation</a>
            </li>
                                                                                    
      <li>
  
                          <a href="../../mi/index.html" title="Data export">
          <span class="icon-chevron-right"></span>
        Data export</a>
                  </li>
                              <li class="nav-header">3PS documentation</li>
                              
      <li>
  
                          <a href="../../tps/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../tps/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../tps/api.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                              <li class="nav-header">UWB documentation</li>
                              
      <li>
  
                          <a href="../../uwb/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../uwb/installation/index.html" title="Installation">
          <span class="icon-chevron-right"></span>
        Installation</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../uwb/configuration/application/index.html" title="Application Configuration">
          <span class="icon-chevron-right"></span>
        Application Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../uwb/configuration/office/index.html" title="Office Configuration">
          <span class="icon-chevron-right"></span>
        Office Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../uwb/features/index.html" title="Advanced Features">
          <span class="icon-chevron-right"></span>
        Advanced Features</a>
                  </li>
                                                                  
      <li>
  
                          <a href="../../uwb/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../uwb/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">MIGRATION documentation</li>
                              
      <li>
  
                          <a href="../../migration/index.html" title="User Guide">
          <span class="none"></span>
        User Guide</a>
            </li>
                              <li class="nav-header">Appendix</li>
                              
      <li>
  
                          <a href="../../glossary.html" title="Glossary">
          <span class="none"></span>
        Glossary</a>
            </li>
                
      <li>
  
                          <a href="../../component-versions.html" title="Component Versions">
          <span class="none"></span>
        Component Versions</a>
            </li>
                                                                                                                                          
      <li>
  
                          <a href="../../release-migration-notes.html" title="Release And Migration Notes">
          <span class="icon-chevron-right"></span>
        Release And Migration Notes</a>
                  </li>
                
      <li>
  
                          <a href="../../changelog.html" title="Changelog">
          <span class="none"></span>
        Changelog</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Constraints</h1>
<p>In order to support clients in reducing the number of risk assessment round trips, it is possible to define the following constraints:</p>
<ul>

<li><i>minValue</i> and <i>maxValue</i> constraints for <a href="../media-types/number-question.html">number questions</a> and <a href="../media-types/date-question.html">date questions</a></li>
<li><i>pattern</i>, <i>minLength</i> and <i>maxLength</i> constraints for <a href="../media-types/text-question.html">text questions</a></li>
<li><i>exclusiveOption</i> constraints for <a href="../media-types/multi-selection-question.html">multi-selection questions</a></li>
<li><i>minNumberOfFactors</i> and <i>maxNumberOfFactors</i> for <a href="../media-types/assessment-factor-search-question.html">assessment factor search questionss</a></li>
<li><i>minSize</i> and <i>maxSize</i> constraints for <a href="../media-types/list-question.html">list questions</a></li>
</ul>
<p>These constraints as well as the corresponding constraint violation messages are then delivered to the client in the responses from RAS-REST. Whether these constraints only depend on literals or whether they depend on the answers to questions, the following behavior can be observed in the responses.</p><section>
<h2><a name="Constraints_depending_on_literals_only"></a>Constraints depending on literals only</h2>
<p>All constraints depending on only literals can always be evaluated by the RAS Runtime and are provided in the RAS-REST responses including their respective constraint violation messages.</p>
<p><b>Example</b></p>
<p>Given the following definition of an integer assessment variable in a knowledge base:</p>

<div class="source">
<div class="source"><pre class="prettyprint">AssessmentVariable MyNumberQuestion {
    type Integer
    minValue 10
    maxValue 150
}
</pre></div></div>

<p>Here, both, the <i>minValue</i> and the <i>maxValue</i> constraint depend on literals. For this reason, the constraints as well as the corresponding constraint violation messages are always contained in the responses from RAS-REST:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;type&quot;: &quot;number&quot;,
  &quot;id&quot;: &quot;MyNumberQuestion&quot;,
  &quot;constraints&quot;: {
    &quot;required&quot;: true,
    &quot;step&quot;: &quot;1&quot;,
    &quot;minValue&quot;: 10,
    &quot;maxValue&quot;: 150,
    &quot;minValueViolationMessage&quot;: &quot;Value must be greater than 10&quot;,
    &quot;maxValueViolationMessage&quot;: &quot;Value must be smaller than 150&quot;
  },
  ...
}
</pre></div></div>

<p><b>Note</b></p>
<p>In <i>pattern</i>, <i>minLength</i>, <i>maxLength</i> constraints for <a href="../media-types/text-question.html">text questions</a>, <i>minNumberOfFactors</i>, <i>maxNumberOfFactors</i> constraints for <a href="../media-types/assessment-factor-search-question.html">assessment factor search questions</a>, <i>exclusiveOption</i> constraint for <a href="../media-types/multi-selection-question.html">multi-selection questions</a> as well as in <i>minSize</i> and <i>maxSize</i> constrains for <a href="../media-types/list-question.html">list questions</a>, it is only possible to use literals. For this reason, these constraints as well as their corresponding constraint violation messages are always contained in the RAS-REST responses if they have been defined in a knowledge base.</p></section><section>
<h2><a name="Constraints_depending_on_the_answers_to_questions"></a>Constraints depending on the answers to questions</h2>
<p>For constraints that depend on the answers to questions, the RAS Runtime only evaluates the constraint once all referenced questions have been answered. For this reason, the constraint (i.e. the result of the expression) as well as the corresponding constraint violation message are only provided in the RAS-REST response once all referenced questions have been answered.</p>
<p><b>Example</b></p>
<p>Given the following definition of an integer assessment variable in a knowledge base:</p>

<div class="source">
<div class="source"><pre class="prettyprint">AssessmentVariable MyNumberQuestion {
    type Integer
    minValue MyOtherNumberQuestion
    maxValue 150
}
</pre></div></div>

<p>Here, if the question <i>MyOtherNumberQuestion</i> has not been answered yet, the <i>minValue</i> constraint cannot be evaluated by the RAS Runtime (i.e. the <i>minValue</i> constraint is treated by the RAS Runtime as if it does not exist), and the response from RAS-REST only contains the <i>maxValue</i> constraint as well as the constraint violation message for the <i>maxValue</i> constraint:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;type&quot;: &quot;number&quot;,
  &quot;id&quot;: &quot;MyNumberQuestion&quot;,
  &quot;constraints&quot;: {
    &quot;required&quot;: true,
    &quot;step&quot;: &quot;1&quot;,
    &quot;maxValue&quot;: 150,
    &quot;maxValueViolationMessage&quot;: &quot;Value must be smaller than 150&quot;
  },
  ...
}
</pre></div></div>

<p>Now, we assume that question <i>MyOtherNumberQuestion</i> is answered with a value of <i>50</i>. If a round trip is triggered now, the RAS Runtime is able to evaluate the <i>minValue</i> constraint, and the RAS-REST response contains both constraints and their corresponding constraint violation messages:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;type&quot;: &quot;number&quot;,
  &quot;id&quot;: &quot;MyNumberQuestion&quot;,
  &quot;constraints&quot;: {
    &quot;required&quot;: true,
    &quot;step&quot;: &quot;1&quot;,
    &quot;minValue&quot;: 50,
    &quot;maxValue&quot;: 150,
    &quot;minValueViolationMessage&quot;: &quot;Value must be greater than 50&quot;,
    &quot;maxValueViolationMessage&quot;: &quot;Value must be smaller than 150&quot;
  },
  ...
}
</pre></div></div>

<p><b>Note</b></p>
<p>It is important to note that the values of constraints that depend on the answers of questions may change between two successive risk assessment requests if the answers of these questions are changed. This information is not provided in the RAS-REST responses until the next risk assessment is performed, and the RAS Runtime is able to re-evaluate the constraints.</p></section><section>
<h2><a name="Constraints_depending_on_the_length_of_a_given_answer_to_a_text_question"></a>Constraints depending on the length of a given answer to a text question</h2>
<p>Constraints <code>minLength</code> and <code>maxLength</code> setting the bounds of string answers are always delivered by RAS-REST and may always be evaluated in the RAS Runtime.</p>
<p><b>Example</b></p>
<p>Given the following definition of an assessment variable of type string in a knowledge base:</p>

<div class="source">
<div class="source"><pre class="prettyprint">AssessmentVariable MyTextQuestion {
    type String
    minLength 3
    maxLength 10
}
</pre></div></div>

<p>This requires the user to enter a text between 3 and 10 characters as an answer for the question <code>MyStringQuestion</code>. If the provided answer is longer than 10 or shorter than 3 characters, the RAS Runtime will mark this question as not valid.</p>
<p>Both <i>minLength</i> and the <i>maxLength</i> constraint depend on literals. For this reason, the constraints as well as the corresponding constraint violation messages are always contained in the responses from RAS-REST:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;type&quot;: &quot;text&quot;,
  &quot;id&quot;: &quot;MyTextQuestion&quot;,
  &quot;constraints&quot;: {
    &quot;required&quot;: true,
    &quot;step&quot;: &quot;1&quot;,
    &quot;minLength&quot;: 3,
    &quot;maxLength&quot;: 10,
    &quot;minLengthViolationMessage&quot;: &quot;The entered text is too short. Please verify.&quot;,
    &quot;maxLengthViolationMessage&quot;: &quot;The entered text is too long. Please verify.&quot;
  },
  ...
}
</pre></div></div>
</section><section>
<h2><a name="Constraints_depending_on_the_number_of_given_answers_to_questions"></a>Constraints depending on the number of given answers to questions</h2>
<p>Constraints limiting the possible number of answers a user is allowed to give are always delivered by RAS-REST and may always be evaluated in the RAS Runtime.</p>
<p><b>Example</b></p>
<p>Given the following definition of an assessment factor search assessment variable in a knowledge base:</p>

<div class="source">
<div class="source"><pre class="prettyprint">AssessmentVariable MySearchQuestion {
    type AssessmentFactorSearch
    minNumberOfFactors 2
    maxNumberOfFactors 3
}
</pre></div></div>

<p>This requires the user to enter between two and three answers for the question <code>MySearchQuestion</code>. If more than three or less than two answers are provided, the RAS Runtime will mark this question as not valid.</p></section><section>
<h2><a name="Constraints_depending_on_the_number_of_answers_to_list_questions"></a>Constraints depending on the number of answers to list questions</h2>
<p>Constraints <code>minsize</code> and <code>maxSize</code> setting the limits for number of answers to a list question are always delivered by RAS-REST and may always be evaluated in the RAS Runtime.</p>
<p><b>Example</b></p>
<p>Given the following definition of an assessment variable of type list in a knowledge base:</p>

<div class="source">
<div class="source"><pre class="prettyprint">AssessmentVariable MyListQuestion {
    type SomeList
    minSize 1
    maxSize 5
}
</pre></div></div>

<p>This requires the user to give at least 1 and at most 5 answers to the question <code>MyListQuestion</code>. If the user provides less than 1 or more than 5 answers, the RAS Runtime will mark this question as not valid.</p>
<p>Values of both <i>minSize</i> and <i>maxSize</i> constraints are number literals. For this reason, the constraints as well as the corresponding constraint violation messages are always contained in the responses from RAS-REST:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
    &quot;type&quot;: &quot;list&quot;,
    &quot;id&quot;: &quot;InsuredPerson.DrugsTaken&quot;,
    &quot;scope&quot;: &quot;ASSESSMENTFACTOR:InsuredPerson&quot;,
    &quot;constraints&quot;: {
        &quot;required&quot;: true,
        &quot;minSize&quot;: 1,
        &quot;maxSize&quot;: 3,
        &quot;minSizeViolationMessage&quot;: &quot;Not enough answers. Please verify.&quot;,
        &quot;maxSizeViolationMessage&quot;: &quot;Too many answers. Please verify.&quot;
      },
    &quot;answer&quot;: [ ... ]
    ...
}
</pre></div></div></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2020.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
