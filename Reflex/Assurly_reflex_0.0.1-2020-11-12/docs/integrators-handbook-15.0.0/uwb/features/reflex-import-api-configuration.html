<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2020-09-25 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200925" />
    <meta http-equiv="Content-Language" content="en" />
    <title>ReFlex ReFlex Integrator's Handbook &#x2013; ReFlex Import API</title>
    <link rel="stylesheet" href="../../css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="../../css/site.css" />
    <link rel="stylesheet" href="../../css/print.css" media="print" />

      
    <script type="text/javascript" src="../../js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="https://www.hannover-re.com/" id="bannerLeft">
                                                                                                <img src="../../images/logo.svg"  alt="HannoverRe"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="https://www.hannover-re.com/" id="bannerRight">
                                                                                                <img src="../../images/hre-logo.svg"  alt="HannoverRe_log"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 15.0.0
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2020-09-25</li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                          
      <li>
  
                          <a href="../../index.html" title="Document Information">
          <span class="none"></span>
        Document Information</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="../../reflex-overview/index.html" title="ReFlex Overview">
          <span class="icon-chevron-right"></span>
        ReFlex Overview</a>
                  </li>
                
      <li>
  
                          <a href="../../installation-guide.html" title="Installation Guide">
          <span class="none"></span>
        Installation Guide</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../update-guide/index.html" title="Update Guide">
          <span class="icon-chevron-right"></span>
        Update Guide</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../use-cases/index.html" title="Use Cases">
          <span class="icon-chevron-right"></span>
        Use Cases</a>
                  </li>
                              <li class="nav-header">RAS documentation</li>
                              
      <li>
  
                          <a href="../../ras/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../ras/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                                      
      <li>
  
                          <a href="../../ras/general-notes/index.html" title="General Notes">
          <span class="icon-chevron-right"></span>
        General Notes</a>
                  </li>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="../../ras/rest-resources/index.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../../ras/usage-scenarios/index.html" title="Usage Scenarios">
          <span class="icon-chevron-right"></span>
        Usage Scenarios</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="../../ras/known-issues/index.html" title="Known Issues">
          <span class="icon-chevron-right"></span>
        Known Issues</a>
                  </li>
                              <li class="nav-header">CEP documentation</li>
                              
      <li>
  
                          <a href="../../cep/integration/integration_mechanism.html" title="Integration Mechanism">
          <span class="none"></span>
        Integration Mechanism</a>
            </li>
                                                                                                                                                                                          
      <li>
  
                          <a href="../../cep/integration/backend/index.html" title="Back End Integration">
          <span class="icon-chevron-right"></span>
        Back End Integration</a>
                  </li>
                                                                                                                                                                                                                        
      <li>
  
                          <a href="../../cep/integration/frontend/index.html" title="Front End Integration">
          <span class="icon-chevron-right"></span>
        Front End Integration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../cep/integration/features/index.html" title="Optional Features">
          <span class="icon-chevron-right"></span>
        Optional Features</a>
                  </li>
                                                                                                                              
      <li>
  
                          <a href="../../cep/integration/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../cep/integration/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">DCS documentation</li>
                              
      <li>
  
                          <a href="../../dcs/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/configuration.html" title="Configuration">
          <span class="none"></span>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="../../dcs/rest-api.html" title="REST API">
          <span class="none"></span>
        REST API</a>
            </li>
                                                                                                      
      <li>
  
                          <a href="../../dcs/template-config/template-configuration.html" title="Template Configuration">
          <span class="icon-chevron-right"></span>
        Template Configuration</a>
                  </li>
                
      <li>
  
                          <a href="../../dcs/known-issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">RSP documentation</li>
                                                                                                                                                        
      <li>
  
                          <a href="../../rsp/integration/integration.html" title="Integration">
          <span class="icon-chevron-right"></span>
        Integration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../rsp/configuration/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                              <li class="nav-header">MI documentation</li>
                              
      <li>
  
                          <a href="../../mi/installation/app-queue.html" title="AppQueue Installation">
          <span class="none"></span>
        AppQueue Installation</a>
            </li>
                                                                                    
      <li>
  
                          <a href="../../mi/index.html" title="Data export">
          <span class="icon-chevron-right"></span>
        Data export</a>
                  </li>
                              <li class="nav-header">3PS documentation</li>
                              
      <li>
  
                          <a href="../../tps/overview.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="../../tps/configuration.html" title="Configuration">
          <span class="icon-chevron-right"></span>
        Configuration</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../../tps/api.html" title="REST API">
          <span class="icon-chevron-right"></span>
        REST API</a>
                  </li>
                              <li class="nav-header">UWB documentation</li>
                              
      <li>
  
                          <a href="../../uwb/index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                                                                  
      <li>
  
                          <a href="../../uwb/installation/index.html" title="Installation">
          <span class="icon-chevron-right"></span>
        Installation</a>
                  </li>
                                                                                                                        
      <li>
  
                          <a href="../../uwb/configuration/application/index.html" title="Application Configuration">
          <span class="icon-chevron-right"></span>
        Application Configuration</a>
                  </li>
                                                                                                                                                                                    
      <li>
  
                          <a href="../../uwb/configuration/office/index.html" title="Office Configuration">
          <span class="icon-chevron-right"></span>
        Office Configuration</a>
                  </li>
                                                                                                                                                                                              
      <li>
  
                          <a href="../../uwb/features/index.html" title="Advanced Features">
          <span class="icon-chevron-down"></span>
        Advanced Features</a>
                    <ul class="nav nav-list">
                                                                      
      <li>
  
                          <a href="../../uwb/features/decision-letter-templates.html" title="Decision Letter">
          <span class="icon-chevron-right"></span>
        Decision Letter</a>
                  </li>
                    
      <li>
  
                          <a href="../../uwb/features/email-templates.html" title="Send Message">
          <span class="none"></span>
        Send Message</a>
            </li>
                    
      <li>
  
                          <a href="../../uwb/features/ascent-configuration.html" title="Ascent Integration">
          <span class="none"></span>
        Ascent Integration</a>
            </li>
                    
      <li>
  
                          <a href="../../uwb/features/threeps-configuration.html" title="3PS Integration">
          <span class="none"></span>
        3PS Integration</a>
            </li>
                    
      <li>
  
                          <a href="../../uwb/features/import-api-configuration.html" title="Case Import (REST API)">
          <span class="none"></span>
        Case Import (REST API)</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>ReFlex Import (REST API)</a>
          </li>
              </ul>
        </li>
                                                                  
      <li>
  
                          <a href="../../uwb/operations/index.html" title="Operations">
          <span class="icon-chevron-right"></span>
        Operations</a>
                  </li>
                
      <li>
  
                          <a href="../../uwb/known_issues.html" title="Known Issues">
          <span class="none"></span>
        Known Issues</a>
            </li>
                              <li class="nav-header">MIGRATION documentation</li>
                              
      <li>
  
                          <a href="../../migration/index.html" title="User Guide">
          <span class="none"></span>
        User Guide</a>
            </li>
                              <li class="nav-header">Appendix</li>
                              
      <li>
  
                          <a href="../../glossary.html" title="Glossary">
          <span class="none"></span>
        Glossary</a>
            </li>
                
      <li>
  
                          <a href="../../component-versions.html" title="Component Versions">
          <span class="none"></span>
        Component Versions</a>
            </li>
                                                                                                                                          
      <li>
  
                          <a href="../../release-migration-notes.html" title="Release And Migration Notes">
          <span class="icon-chevron-right"></span>
        Release And Migration Notes</a>
                  </li>
                
      <li>
  
                          <a href="../../changelog.html" title="Changelog">
          <span class="none"></span>
        Changelog</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>ReFlex Import API</h1>
<p>The UWB provides a REST Application Programming Interface (API) enabling integrators to import ReFlex applications as cases into the UWB. This allows a seamless integration between the ReFlex automated underwriting process and the manual underwriting in scenarios where the application cannot be decided automatically.</p>
<section>
<h2><a name="REST_API"></a>REST API</h2>

<p>The ReFlex UWB Import API has a REST endpoint that accepts the application.json emitted by the ReFlex CEP or ReFlex RAS as request body.</p>
<p><b>POST</b>: <code>api/import/office/{officeCode}/vendor/{vendorCode}/configId/{configId}</code></p>
<p>with the following parameters:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> Parameter    </th>
<th> Description</th></tr>
</thead><tbody>

<tr class="b">
<td> <code>officeCode</code> </td>
<td> The office code for which the case shall be imported.</td></tr>
<tr class="a">
<td> <code>vendorCode</code> </td>
<td> The vendor code for which the case shall be imported.</td></tr>
<tr class="b">
<td> <code>configId</code>   </td>
<td> The name of the import mapping configuration file (default value is: <code>default</code>)</td></tr>
</tbody>
</table>
<p>The API is protected by OAuth2 and requires a valid bearer token with <a href="#Security_and_permissions">specific ReFlex import roles</a>.</p>
<section>
<h3><a name="Example"></a>Example</h3>

<div class="source">
<div class="source"><pre class="prettyprint">$ curl https://uwb.demo/api/import/office/{officeCode}/vendor/{vendor}/configId/{configId} \
 -d &quot;@assessment.json&quot;
 -X POST \  
 -H &quot;Content-Type: application/json&quot; \                                              
 -H &quot;Authorization: Bearer eyJhbGciOiJ...&quot;
</pre></div></div>

<p>The response contains the UWB case reference identifier if the import is successful.</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
   &quot;caseRef&quot;:&quot;HRE-TE-000500&quot;
}
</pre></div></div>

<p>The reference identifier can be used to open the case in the UWB by using the following url. The url is relative to the context path.</p>

<div class="source">
<div class="source"><pre class="prettyprint">/go/HRE-TE-000500
</pre></div></div>
</section></section><section>
<h2><a name="Application_mapping"></a>Application mapping</h2>

<p>The ReFlex RAS knowledge base (KB) is a very flexible, DSL-based rule set that can automatically assess insurance applications. The structure of the emitted JSON document depends on the KB that was used to assess the application.</p>
<p>The UWB adapts to this flexibility by providing a mapping configuration DSL that describes how any JSON document can be imported as a case into the UWB. It uses JsonPath to express selectors that map fields from the imported json to structured fields in the UWB. Additionally, it provides basic transformation operations.</p>
<p>Each KB (and KB version) may require its own mapping configuration while other KBs are stable across different versions and can use the same mapping configuration. This differentiation cannot be made automatically and hence the desired mapping configuration has to be provided by the API user.</p>
<blockquote>

<p>Suggestion: When an integrator creates the first mapping configuration, they should agree with their KB-Team that the used fields should not be changed without prior notice. Each breaking change will require the integrator to add an adapted mapping configuration to the UWB <b>before</b> the new KB version is used. Otherwise, new cases might not be able to get imported completely or may end up with broken data.</p>
</blockquote>
<p>The configuration DSL has few building blocks which are described in the following sections.</p>
<section>
<h3><a name="UWB_fields"></a>UWB fields</h3>

<p>The UWB manages cases in a structured format with many different nested fields and properties. Examples are the applicant&#x2019;s name, their date of birth, gender or annual income. The purpose of the import configuration is to describe how the UWB can extract these properties from a given JSON document. Each UWB field can be configured with one or more selectors. Depending on the property (i.e. whether it requires a single or multiple values) only the first selector results or the results from all of its selectors are collected. Not all UWB fields are mandatory, so they may be omitted in the import configuration definition.</p>
</section><section>
<h3><a name="JsonPathSelectors"></a>JsonPathSelectors</h3>

<p>A <i>JsonPathSelector</i> consists of either a fixed <code>value</code> or a <code>path</code> expression that describes how a property value can be identified and selected in a JSON document. The paths are described using the <a class="externalLink" href="https://goessner.net/articles/JsonPath/index.html#e2">JSON Path</a> language.</p>
<p>If a fixed <code>value</code> property is given, the <code>path</code> is ignored.</p>
<p>Each <i>JsonPathSelector</i> can also provide a series of <i>Transformations</i> that is applied to the resolved value.</p>
<p>See below <a href="#Configuration_reference">Configuration reference</a> on <i>JsonPathSelectors</i> for a formal definition.</p>
<section>
<h4><a name="Transform_operations"></a>Transform operations</h4>

<p>Each <code>JsonPathSelector</code> may include an optional <code>transform</code> operation or a sequence of <code>transform</code> operations. These transformations are first executed/combined in the sequence in which they are defined <i>before</i> the combined transformation is applied to the expected type.</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> Operation    </th>
<th> Parameter    </th>
<th> Description</th></tr>
</thead><tbody>

<tr class="b">
<td> <code>constant</code>   </td>
<td>              </td>
<td> Replaces the found path with the given constant value.</td></tr>
<tr class="a">
<td>              </td>
<td>              </td>
<td> Example: <code>&quot;transform&quot;: { &quot;op&quot;: &quot;constant&quot;, &quot;value&quot;: &quot;Well!&quot; }</code></td></tr>
<tr class="b">
<td>              </td>
<td> <code>value</code>      </td>
<td> Any type of valid json.</td></tr>
<tr class="a">
<td> <code>map</code>        </td>
<td>              </td>
<td> Replaces some previously known json values with other json values.</td></tr>
<tr class="b">
<td>              </td>
<td> <code>entries</code>    </td>
<td> An object with the properties <code>from</code> and <code>to</code>. Each selected value that perfectly matches a <code>from</code> value, will be replaced by the corresponding <code>to</code> value.</td></tr>
<tr class="a">
<td>              </td>
<td>              </td>
<td> Example: <code>{&quot;op&quot;: &quot;map&quot;, &quot;entries&quot;: [ {&quot;from&quot;: &quot;Mo&quot;, &quot;to&quot;: &quot;Monday&quot;}, {&quot;from&quot;: &quot;Tue&quot;, &quot;to&quot;: &quot;Tuesday&quot;} ]}</code></td></tr>
<tr class="b">
<td> <code>trim</code>       </td>
<td>              </td>
<td> If the matched node is a textual node, trims its content (removes whitespaces at the beginning and the end of the text).</td></tr>
<tr class="a">
<td>              </td>
<td>              </td>
<td> Example: <code>&quot;transform&quot;: { &quot;op&quot;: &quot;trim&quot; }</code></td></tr>
<tr class="b">
<td> <code>toNumber</code>   </td>
<td>              </td>
<td> Converts a matched textual node into a numeric node. Fails, if the selected element cannot be interpreted as a number.</td></tr>
<tr class="a">
<td>              </td>
<td>              </td>
<td> Example: <code>&quot;transform&quot;: { &quot;op&quot;: &quot;toNumber&quot; }</code></td></tr>
<tr class="b">
<td> <code>pattern</code>    </td>
<td>              </td>
<td> Transforms an existing textual node into a new textual node by replacing the original value by a resolved pattern.</td></tr>
<tr class="a">
<td>              </td>
<td> <code>text</code>       </td>
<td> The new pattern. All occurrences of placeholders <code>{}</code> in this pattern will be replaced by the original matched value.</td></tr>
<tr class="b">
<td>              </td>
<td>              </td>
<td> Example: <code>&quot;transform&quot;: { &quot;op&quot;: &quot;text&quot;, &quot;text&quot;: &quot;My name is: {}&quot; }</code></td></tr>
</tbody>
</table>
<p>If a fixed <code>value</code> property is given, the <code>transform</code> operations are ignored.</p>
</section><section>
<h4><a name="Selector_Test_Path_Expression"></a>Selector Test Path Expression</h4>

<p>A <i>JsonPathSelector</i> may optionally contain a <code>test</code> property with an additional path expression. The <code>test</code> path can be used to filter potential node matches that were matched by the given <code>path</code> expression. The <code>test</code> path is evaluated against the root of each node that is matched by the <code>path</code> expression of the selector and will only keep candidates that yield a non-empty result of the <code>test</code> path evaluation. This is especially useful if the test properties are deeply nested within a root node which makes those tests inexpressible as JsonPath.</p>
</section><section>
<h4><a name="Examples"></a>Examples</h4>

<p>The following examples demonstrate usage scenarios for different selectors configurations.</p>
<p><b>A constant value selector</b></p>
<p>Given any document like:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{ ... anything }
</pre></div></div>

<p>and the following selector:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;value&quot;: &quot;Yes!&quot;
}
</pre></div></div>

<p>then the selector would always match and yield the value <code>Yes!</code>, regardless of the input document. This is useful when the value for an UWB field is independent from the input model and already known.</p>
<p><b>A simple path selector</b></p>
<p>Given a document of:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;answers&quot;: [ &quot;yes&quot;, 42, false ]
}
</pre></div></div>

<p>and the following selector:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;path&quot;: &quot;$.answers[*]&quot;
}
</pre></div></div>

<p>The selector would find all nodes within the answers array and yield <code>&quot;yes&quot;</code>, <code>42</code> and <code>false</code>.</p>
<p><b>An advanced JsonPath selector</b></p>
<p>Given a document of:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{ &quot;questionnaire&quot;: {
    &quot;questions&quot;: [
      {
        &quot;id&quot;: &quot;container&quot;,
        &quot;questions&quot;: [
          {
            &quot;id&quot;: &quot;ApplicationID&quot;,
            &quot;answer&quot;: &quot;aaa-bbb-ccc&quot;
          }
        ]
      }
    ]
  }
}
</pre></div></div>

<p>and the following selector (example from the default configuration below):</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ApplicationID')].answer&quot;
}
</pre></div></div>

<p>The selector would find the answer property on all nested questions within the questionnaire with the id <code>ApplicationID</code> and yield the single result <code>aaa-bbb-ccc</code>.</p>
<p><b>A path selector with a test</b></p>
<p>Given a document of:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;data&quot;: [
    { &quot;id&quot;: &quot;A&quot;, &quot;options&quot;: { &quot;relevant&quot;: false } },
    { &quot;id&quot;: &quot;B&quot;, &quot;options&quot;: { &quot;relevant&quot;: true } }
  ]
}
</pre></div></div>

<p>and the following selector:</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;path&quot;: &quot;$.data[*]&quot;,
  &quot;test&quot;: &quot;$.options[?(@.relevant == true)]&quot;
}
</pre></div></div>

<p>The selector would match the object-node with id <code>A</code> but not the object-node with id <code>B</code>. If no <code>test</code> property is provided, every node matched by the <code>path</code> expression will be considered.</p>
</section></section></section><section>
<h2><a name="Default_Import_Configuration"></a>Default Import Configuration</h2>

<p>The following section contains the default configuration that is used when no explicit <code>configId</code> is provided.</p>

<div class="source">
<div class="source"><pre class="prettyprint">{
  &quot;caseType&quot;: &quot;Application&quot;,
  &quot;selectors&quot;: {
    &quot;policyNumber&quot;: [
      {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ApplicationID')].answer&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;trim&quot; }
      },
      {
        &quot;path&quot;: &quot;$.provided..questionnaire['ApplicationID'].answer&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;trim&quot; }
      }
    ],
    &quot;provided&quot;: {
      &quot;path&quot;: &quot;$.provided[*]&quot;
    },

    &quot;person&quot;: {
      &quot;firstName&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.FirstName')].answer&quot;,
        &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
      },
      &quot;lastName&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.LastName')].answer&quot;,
        &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
      },
      &quot;middleName&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.MiddleName')].answer&quot;
      },
      &quot;gender&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Gender')].answer.id&quot;,
        &quot;transform&quot;: {&quot;op&quot;: &quot;map&quot;, &quot;entries&quot;: [ {&quot;from&quot;: &quot;Male&quot;, &quot;to&quot;: &quot;MALE&quot;}, {&quot;from&quot;: &quot;Female&quot;, &quot;to&quot;: &quot;FEMALE&quot;} ]}
      },
      &quot;birthday&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.DateOfBirth')].answer&quot;
      },
      &quot;city&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.City')].answer&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.City'].answer&quot;
        }
      ],
      &quot;zipCode&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.ZipCode')].answer&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.ZipCode'].answer&quot;
        }
      ],
      &quot;street&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Street')].answer&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.Street'].answer&quot;
        }
      ],
      &quot;residenceState&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.ResidenceState')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.ResidenceState'].answer&quot;
        }
      ],
      &quot;issuanceState&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.IssuanceState')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.IssuanceState'].answer&quot;
        }
      ],
      &quot;socialSecurityNumber&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.SocialSecurityNumber')].answer&quot;,
          &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire.['InsuredPerson.SocialSecurityNumber'].answer&quot;,
          &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
        },
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Nin')].answer&quot;,
          &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire.['InsuredPerson.Nin'].answer&quot;,
          &quot;transform&quot;: {&quot;op&quot;: &quot;trim&quot;}
        }
      ],
      &quot;driverLicenseNumber&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.DriverLicenseNumber')].answer&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire.['InsuredPerson.DriverLicenseNumber'].answer&quot;
        }
      ],
      &quot;driverLicenseState&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.DriverLicenseState')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire.['InsuredPerson.DriverLicenseState'].answer&quot;
        }
      ],
      &quot;mibHoldingForm&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.MIBHoldingForm')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.MIBHoldingForm'].answer&quot;
        }
      ],
      &quot;productType&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.ProductType')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.ProductType'].answer&quot;
        }
      ],
      &quot;residenceCountry&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.ResidenceCountry')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.ResidenceCountry'].answer&quot;
        }
      ],
      &quot;birthJurisdiction&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.BirthJurisdiction')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.BirthJurisdiction'].answer&quot;
        }
      ],
      &quot;birthCountry&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.BirthCountry')].answer.id&quot;
        },
        {
          &quot;path&quot;: &quot;$.provided..questionnaire['InsuredPerson.BirthCountry'].answer&quot;
        }
      ],
      &quot;nationality&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Nationality')].answer.id&quot;
      },
      &quot;height&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Height')].answer&quot;
      },
      &quot;heightUnit&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Height')].unit&quot;,
        &quot;transform&quot;: {&quot;op&quot; : &quot;map&quot;, &quot;entries&quot;: [ { &quot;from&quot;:&quot;[in]&quot;, &quot;to&quot;: &quot;FEETS_INCHES&quot; }, { &quot;from&quot;:&quot;[cm]&quot;, &quot;to&quot;: &quot;CENTIMETERS&quot; } ]}
      },
      &quot;weight&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Weight')].answer&quot;
      },
      &quot;weightUnit&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.Weight')].unit&quot;,
        &quot;transform&quot;: { &quot;op&quot; : &quot;map&quot;, &quot;entries&quot;: [ { &quot;from&quot;:&quot;[kg]&quot;, &quot;to&quot;: &quot;KILOGRAMS&quot; }, { &quot;from&quot;:&quot;[lb]&quot;, &quot;to&quot;: &quot;POUNDS&quot; } ]}
      },
      &quot;isSmoker&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.IsSmoker')].answer.id&quot;,
        &quot;transform&quot;: { &quot;op&quot; : &quot;map&quot;, &quot;entries&quot;: [ { &quot;from&quot;:&quot;Yes&quot;, &quot;to&quot;: true }, { &quot;from&quot;:&quot;No&quot;, &quot;to&quot;: false }]}
      },
      &quot;isAlcoholDrinker&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.IsAlcoholDrinker')].answer.id&quot;,
        &quot;transform&quot;: { &quot;op&quot; : &quot;map&quot;, &quot;entries&quot;: [ { &quot;from&quot;:&quot;Yes&quot;, &quot;to&quot;: true }, { &quot;from&quot;:&quot;No&quot;, &quot;to&quot;: false }]}
      }
    },

    &quot;covers&quot;: [{
        &quot;path&quot;: &quot;$&quot;,
        &quot;test&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_LifeProduct.InsuranceSum')]&quot;,
        &quot;fields&quot;: {
          &quot;coverType&quot;: { &quot;value&quot;: &quot;Life Term&quot; },
          &quot;inceptionDate&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ApplicationDate')].answer&quot;
          },
          &quot;benefitType&quot;: { &quot;value&quot;: &quot;LUMP_SUM&quot; },
          &quot;benefitSum&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_LifeProduct.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;sumAssured&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_LifeProduct.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;durationType&quot;: { &quot;value&quot;: &quot;WHOLE_LIFE&quot; }
        }
      },
      {
        &quot;path&quot;: &quot;$&quot;,
        &quot;test&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_CICRider.InsuranceSum')]&quot;,
        &quot;fields&quot;: {
          &quot;coverType&quot;: { &quot;value&quot;: &quot;Critical Illness&quot; },
          &quot;inceptionDate&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ApplicationDate')].answer&quot;
          },
          &quot;benefitType&quot;: { &quot;value&quot;: &quot;LUMP_SUM&quot; },
          &quot;benefitSum&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_CICRider.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;sumAssured&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReFlexUGM_CICRider.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;durationType&quot;: { &quot;value&quot;: &quot;WHOLE_LIFE&quot; }
        }
      },
      {
        &quot;path&quot;: &quot;$&quot;,
        &quot;test&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReflexAccel.InsuranceSum')]&quot;,
        &quot;fields&quot;: {
          &quot;coverType&quot;: { &quot;value&quot;: &quot;Level Term&quot; },
          &quot;inceptionDate&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ApplicationDate')].answer&quot;
          },
          &quot;benefitType&quot;: { &quot;value&quot;: &quot;LUMP_SUM&quot; },
          &quot;benefitSum&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReflexAccel.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;sumAssured&quot;: {
            &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'ReflexAccel.InsuranceSum' || @.id == 'InsuredPerson.InsuranceSum')].answer&quot;
          },
          &quot;durationType&quot;: { &quot;value&quot;:  &quot;WHOLE_LIFE&quot; }
        }
      }],
    &quot;financial&quot;: {
      &quot;existingInsurances&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'OtherInsuranceSum')]&quot;,
        &quot;fields&quot;: {
          &quot;coverType&quot;: { &quot;value&quot;: &quot;Life Term&quot; },
          &quot;insurer&quot;: { &quot;value&quot;: &quot;Total Life Insurance Sum (other Companies)&quot; },
          &quot;benefitType&quot;: { &quot;value&quot;: &quot;LUMP_SUM&quot; },
          &quot;benefitSum&quot;: { &quot;path&quot;: &quot;$.answer&quot;},
          &quot;sumCurrency&quot;: { &quot;value&quot;: &quot;SEK&quot; },
          &quot;remarks&quot;: []
        }
      },
      &quot;additionalInfo&quot;: [
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.MonthlyIncome')].answer&quot;,
          &quot;transform&quot;: { &quot;op&quot;: &quot;pattern&quot;, &quot;text&quot;: &quot;Monthly income: {} SEK&quot; }
        },
        {
          &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.MortgageAmount')].answer&quot;,
          &quot;transform&quot;: {&quot;op&quot;: &quot;pattern&quot;, &quot;text&quot;: &quot;Own mortgage income: {} SEK&quot;}
      }],
      &quot;annualIncome&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.MonthlyIncome')].answer&quot;,
        &quot;transform&quot;: [ { &quot;op&quot;: &quot;toNumber&quot; } , { &quot;op&quot;: &quot;calc&quot;, &quot;times&quot;: 12 } ]
      },
      &quot;incomeCurrency&quot;: { &quot;value&quot;: &quot;SEK&quot; },
      &quot;netWorth&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.NetWorth')].answer&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;toNumber&quot; }
      },
      &quot;netWorthCurrency&quot;: { &quot;value&quot;: &quot;SEK&quot; },
      &quot;ultimateTotal&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'InsuredPerson.UltimateTotal')].answer&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;toNumber&quot; }
      },
      &quot;ultimateTotalCurrency&quot;: { &quot;value&quot;: &quot;SEK&quot; },
      &quot;sumExistingPolicies&quot;: {
        &quot;path&quot;: &quot;$.questionnaire..questions[?(@.id == 'OtherInsuranceSum')].answer&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;toNumber&quot; }
      },
      &quot;sumExistingPoliciesCurrency&quot;: { &quot;value&quot;: &quot;SEK&quot; },
      &quot;coverReasons&quot;: {
        &quot;path&quot;: &quot;$.questionnaire.questions[?(@.id == 'InsuranceReason')].answer.[*].id&quot;,
        &quot;transform&quot;: { &quot;op&quot;: &quot;map&quot;, &quot;entries&quot;: [
          { &quot;from&quot;: &quot;DependantsProtection&quot;, &quot;to&quot;: &quot;Family Protection&quot;},
          { &quot;from&quot;: &quot;Mortgage&quot;, &quot;to&quot;: &quot;Loan Protection&quot;},
          { &quot;from&quot;: &quot;Other&quot;, &quot;to&quot;: &quot;Other&quot;}
        ] }
      }
    },

    &quot;riskAssessmentResults&quot;: {
      &quot;path&quot;: &quot;$.results.products&quot;
    },
    &quot;accelerated&quot;: {
      &quot;path&quot;: &quot;$.results.products[*].ratings.Global[*].attributes[?(@.id == 'Accelerated')].value&quot;
    },
    &quot;assessmentFactors&quot;: {
      &quot;medicalImpairments&quot;: {
        &quot;path&quot;: &quot;$.assessmentFactors[?(@.category == 'Medical')]&quot;
      },
      &quot;avocationalActivities&quot;: {
        &quot;path&quot;: &quot;$.assessmentFactors[?(@.category == 'Avocational')]&quot;
      },
      &quot;geographicalStaysAbroad&quot;: {
        &quot;path&quot;: &quot;$.assessmentFactors[?(@.category == 'Residential' || @.category=='TravelUS')]&quot;
      },
      &quot;occupational&quot;: {
        &quot;path&quot;: &quot;$.assessmentFactors[?(@.category == 'USOccupationCategory' || @.category=='Occupational' || @.category=='OccupationUS')]&quot;
      },
      &quot;unspecific&quot;: {
        &quot;path&quot;: &quot;$.assessmentFactors[?(@.category == 'Personal')]&quot;
      }
    },
    &quot;attachments&quot;: [
      {
        &quot;path&quot;: &quot;$.provided[?(!(@.source.id =~ /lnrc-.*/i ) &amp;&amp; !(@.source.id =~ /mib-.*/i ))].data.3ps-attachments[*]&quot;,
        &quot;fields&quot;: {
          &quot;fileName&quot;: {
            &quot;path&quot;: &quot;$.name&quot;
          },
          &quot;data&quot;: {
            &quot;path&quot;: &quot;$.base64EncodedData&quot;
          },
          &quot;fileType&quot;: {
            &quot;path&quot;: &quot;$.type&quot;,
            &quot;transform&quot;: {&quot;op&quot; : &quot;trim&quot;}
          },
          &quot;contentTypeMapping&quot;: {
            &quot;PDF&quot;: {
              &quot;contentType&quot;: &quot;application/pdf&quot;,
              &quot;fileExtension&quot;: &quot;pdf&quot;
            },
            &quot;CP XML&quot;: {
              &quot;contentType&quot;: &quot;application/xml&quot;,
              &quot;fileExtension&quot;: &quot;xml&quot;
            }
          }
        }
      },
      {
        &quot;path&quot;: &quot;$.provided[?(@.source.id == 'ReFlexUGM')].data.attachments[*]&quot;,
        &quot;fields&quot;: {
          &quot;fileName&quot;: {
            &quot;path&quot;: &quot;$.name&quot;
          },
          &quot;data&quot;: {
            &quot;path&quot;: &quot;$.base64EncodedData&quot;
          },
          &quot;fileType&quot;: {
            &quot;path&quot;: &quot;$.type&quot;
          },
          &quot;contentTypeMapping&quot;: {
            &quot;PDF&quot;: {
              &quot;contentType&quot;: &quot;application/pdf&quot;,
              &quot;fileExtension&quot;: &quot;pdf&quot;
            }
          }
        }
      }
    ],
    &quot;questions&quot;: {
      &quot;MIB&quot;: [
        &quot;MIBChecked.MIBRequestDate&quot;,
        &quot;MIBChecked.MIBPersonFound&quot;
      ],
      &quot;LNRC&quot;: [
        &quot;LNRCSuccess.LNRCScore&quot;,
        &quot;LNRCChecked.LNRCRequestDate&quot;,
        &quot;LNRCChecked.LNRCPersonFound&quot;,
        &quot;LNRCSuccess.LNRCMessages&quot;
      ],
      &quot;MVR&quot;: [
        &quot;MVRChecked.MVRRequestDate&quot;,
        &quot;MVRChecked.MVRPersonFound&quot;,
        &quot;MVRSpeedingGenerally.MVRViolationCount&quot;
      ],
      &quot;RxUS&quot;: [
        &quot;RxUSChecked.RxUSRequestDate&quot;,
        &quot;RxUSChecked.RxUSPersonFound&quot;
      ]
    }
  }
}
</pre></div></div>

<p><a name="Security_and_permissions"></a></p>
</section><section>
<h2><a name="Security_and_permissions"></a>Security and permissions</h2>

<p>The ReFlex UWB import API is secured by OAuth2 and requires a valid JSON Web Token (JWT) as Bearer when it is accessed. The import resource is protected by Role Based Access Control (RBAC) (see also: <a href="../installation/authorization-server-installation.html">Authorization Server Installation</a>) and requires one of the following contextual roles:</p>
<table border="0" class="table table-striped">
<thead>

<tr class="a">
<th> Role </th>
<th> Description</th></tr>
</thead><tbody>

<tr class="b">
<td> <code>API_REFLEX_IMPORT.{officeCode}.{vendorCode}</code> </td>
<td> May import applications for the given office and vendor.</td></tr>
<tr class="a">
<td> <code>API_REFLEX_IMPORT.{officeCode}</code>              </td>
<td> May import applications for all vendors in the given office.</td></tr>
<tr class="b">
<td> <code>API_REFLEX_IMPORT</code>                           </td>
<td> May import applications for all offices and vendors</td></tr>
</tbody>
</table>
<p><a name="Configuration_reference"></a></p>
</section><section>
<h2><a name="Configuration_reference"></a>Configuration reference</h2>

<p>The following typescript definition describes the structure of the import configurations:</p>
<ul>

<li>All fields marked with a question mark (?) are optional and may be omitted.</li>
<li>All other fields are mandatory.</li>
<li>All array fields may also have a single value instead of an array with a single entry.</li>
<li>The type parameter of the <code>JsonPathSelector</code> denotes the type of value that is expected to be found by the selector.</li>
</ul>

<div class="source">
<div class="source"><pre class="prettyprint"> /* tslint:disable */
/* eslint-disable */

export interface ReflexJsonImportConfiguration {
    /**
     * The type that is set for all imported cases. The value must match a UWB case type (Application, PreUnderwriting, Claim, Claim Opinion)
     */
    caseType: string;
    selectors: Selectors;
}

export interface Selectors {
    /**
     * A selector to retrieve the application or claim reference number as provided by the vendor.
     */
    policyNumber?: JsonPathSelector&lt;string&gt;[];
    /**
     * One or more selectors to extract covers from the ReFlex JSON document and attach them to an UWB case.
     */
    covers: JsonStructureSelector&lt;CoverStructure&gt;[];
    /**
     * Comprised financial information of the application / claim.
     */
    financial: Financial;
    /**
     * A selector to retrieve the risk assessment results.
     */
    riskAssessmentResults?: JsonPathSelector&lt;any[]&gt;[];
    /**
     * Comprised information about the assessment factors found in the 'assessmentFactors' section in the ReFlex JSON document.
     */
    assessmentFactors: AssessmentFactors;
    /**
     * One or more selectors to extract documents (e.g. PDFs) from the ReFlex JSON document and attach them to an UWB case.
     */
    attachments: JsonStructureSelector&lt;AttachmentStructure&gt;[];
    /**
     * A map from provider-names to questionIds that should be imported as simplified questionnaire.
     */
    questions: { [index: string]: string[] };
    /**
     * A selector to retrieve the UWB accelerated flag from products global rating.
     */
    accelerated?: JsonPathSelector&lt;boolean&gt;[];
    /**
     * Comprised information from the 'provided' section in the ReFlex JSON document.
     */
    provided?: JsonPathSelector&lt;object&gt;[];
    /**
     * Comprised information about the application's / claim's insured person.
     */
    person: PersonSelectors;
}

/**
 * A selector for a certain type. Consists of either a json path or a fixed value. A selector with a path may also contain a list of transformation steps.
 */
export interface JsonPathSelector&lt;T&gt; {
    /**
     * A JsonPath that describes a node within the source document.
     */
    path?: string;
    /**
     * An optional JsonPath that can be used to verify if the given path matches. If present it must match any object relative to the given path.
     */
    test?: string;
    /**
     * A value that is always resolved (ignoring any provided path and transforms).
     */
    value?: T;
    /**
     * An optional list of transformations that are applied to the resolved value in sequence of their occurrence.
     */
    transform?: ValueTransformer[];
}

export interface JsonStructureSelector&lt;S&gt; extends JsonPathSelector&lt;object&gt; {
    fields: S;
    /**
     * A value that is always resolved (ignoring any provided path and transforms).
     */
    value?: object;
}

/**
 * Comprises the information for an attached document in UWB.
 */
export interface CoverStructure {
    /**
     * A selector to retrieve the covers coverType. The matched cover type must be configured for the office.
     */
    coverType: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insurance cover's sum assured.
     */
    sumAssured: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the insurance cover's start date.
     */
    inceptionDate: JsonPathSelector&lt;Date&gt;[];
    /**
     * A selector to retrieve the type of the covers sum assured (one-time payment, regular payment).
     */
    benefitType: JsonPathSelector&lt;BenefitType&gt;[];
    /**
     * A selector to retrieve the covers sum assured.
     */
    benefitSum: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency for the existing insurance's sum assured as ISO-4217 currency code.
     */
    sumCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the type of the covers duration type (IN_YEARS, IN_MONTH, IN_DAYS, END_AGE, orWHOLE_LIFE).
     */
    durationType: JsonPathSelector&lt;DurationType&gt;[];
    /**
     * A selector to retrieve the type of the covers duration (required if the type is not WHOLE_LIFE).
     */
    duration?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve additional information about the existing cover.
     */
    remarks?: JsonPathSelector&lt;string&gt;[];
}

/**
 * Comprises the financial information for the application or claim.
 */
export interface Financial {
    /**
     * A selector to retrieve the insured person's annual income (whole number only).
     */
    annualIncome?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency of the insured person's income as ISO-4217  currency code. Required if annualIncome is present.
     */
    incomeCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's net worth (whole number only).
     */
    netWorth?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency of the insured person's net worth as ISO-4217 currency code. Required if netWorth is present.
     */
    netWorthCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the total current sum assured of all the insured person's existing policies (whole number only).
     */
    sumExistingPolicies?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency of the total current sum assured for existing policies as ISO-4217 currency code. Required if sumExistingPolicies is present.
     */
    sumExistingPoliciesCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the ultimate total sum assured including the current application (whole number only).
     */
    ultimateTotal?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency of the ultimate total sum assured as ISO-4217 currency code. Required if ultimateTotal is present.
     */
    ultimateTotalCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's reasons for cover. Currently, the following reasons for cover are supported: Personal Protection, Family Protection, IHT Protection, Loan Protection, Business Protection, Share/Partnership Protection, Key Employee Protection, Business Loan Protection, Overdraft Protection, Venture Capital Protection, Relevant Life Protection, Other
     */
    coverReasons?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve detailed information about the existing policies / insurances for the insured person.
     */
    existingInsurances: JsonStructureSelector&lt;ExistingInsuranceStructure&gt;[];
    /**
     * A selector to retrieve additional financial information about the insured person.
     */
    additionalInfo?: JsonPathSelector&lt;string&gt;[];
}

/**
 * UWB supports capturing assessment factors of the following types: Occupation, Medical, Avocational, Geographical. Other assessment factors may be imported as 'unspecific' risks.
 */
export interface AssessmentFactors {
    /**
     * A selector to retrieve the medical assessment factors (e.g. impairments).
     */
    medicalImpairments?: JsonPathSelector&lt;ImportedAssessmentFactor&gt;[];
    /**
     * A selector to retrieve the avocational assessment factors (e.g. hobbies, recreational activities).
     */
    avocationalActivities?: JsonPathSelector&lt;ImportedAssessmentFactor&gt;[];
    /**
     * A selector to retrieve the geographical assessment factors (e.g. foreign travel).
     */
    geographicalStaysAbroad?: JsonPathSelector&lt;ImportedAssessmentFactor&gt;[];
    /**
     * A selector to retrieve the occupation.
     */
    occupational?: JsonPathSelector&lt;ImportedAssessmentFactor&gt;[];
    /**
     * A selector to retrieve other assessment factors / risks (e.g. financial risks, personal risks).
     */
    unspecific?: JsonPathSelector&lt;ImportedAssessmentFactor&gt;[];
}

/**
 * Comprises the information for an attached document in UWB.
 */
export interface AttachmentStructure {
    /**
     * A selector to retrieve the document's file name under which it will be added to the UWB attachments.
     */
    fileName: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the base-64 encoded document content / data.
     */
    data: JsonPathSelector&lt;any&gt;;
    /**
     * A selector to retrieve the document's file type.
     */
    fileType: JsonPathSelector&lt;string&gt;[];
    /**
     * Maps the file type to UWB attachment content types.
     */
    contentTypeMapping: { [index: string]: ContentTypeDescription };
    /**
     * A selector to retrieve the category under which the document shall be attached in UWB.
     */
    attachmentCategory?: AttachmentCategory;
}

/**
 * Comprises all fields of the application's or claim's insured person.
 */
export interface PersonSelectors {
    /**
     * A selector to retrieve the insured person's first name.
     */
    firstName?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's middle name.
     */
    middleName?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's surname.
     */
    lastName: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's gender.
     */
    gender: JsonPathSelector&lt;Gender&gt;[];
    /**
     * A selector to retrieve the insured person's date of birth.
     */
    birthday: JsonPathSelector&lt;Date&gt;[];
    /**
     * A selector to retrieve the city of the insured person's address. This is currently only needed for integrating with the LNRC 3PS Service.
     */
    city?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the postcode of the insured person's address. This is currently only needed for integrating with the LNRC and MIB 3PS Services.
     */
    zipCode?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the street and additional details of the insured person's address. This is currently only needed for integrating with the LNRC 3PS Service.
     */
    street?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's state of residence. This is currently only needed for integrating with the LNRC and MIB 3PS Services.
     */
    residenceState?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the state where the policy will be issued. This is currently only needed for integrating with the LNRC 3PS Service.
     */
    issuanceState?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's social security number. This is currently only needed for integrating with the LNRC and MIB 3PS Services.
     */
    socialSecurityNumber?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's driver license number. This is currently only needed for integrating with the LNRC 3PS Service.
     */
    driverLicenseNumber?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the state where the insured person's driver license has been issued. This is currently only needed for integrating with the LNRC 3PS Service.
     */
    driverLicenseState?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the MIB Holding Form. This is only needed for integrating with the MIB 3PS Service (US and Canada only).
     */
    mibHoldingForm?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the MIB Product Type. This is only needed for integrating with the MIB 3PS Service (US and Canada only).
     */
    productType?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's country of residence. This is currently only needed for integrating with the LNRC and MIB 3PS Services. The country name is expected in camel case notation (e.g. UnitedStates) as expected by ReFlex 3PS connectors for LRNC and MIB.
     */
    residenceCountry?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's state of birth. This is only needed for integrating with the MIB 3PS Service (US and Canada only).
     */
    birthJurisdiction?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's country of birth. This is currently only needed for integrating with the LNRC and MIB 3PS Services. The country name is expected in camel case notation (e.g. UnitedStates) as expected by ReFlex 3PS connectors for LRNC and MIB.
     */
    birthCountry?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's nationality. The nationality ID is mapped case insensitive to the country ID in UWB. If the nationality ID cannot be mapped, the nationality defaults to empty.
     */
    nationality?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the insured person's height in the unit specified by 'heightUnit'.
     */
    height?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the unit of the insured person's height. If not present, the default unit of the importing office/client applies.
     */
    heightUnit?: JsonPathSelector&lt;HeightUnit&gt;[];
    /**
     * A selector to retrieve the insured person's weight in the unit specified by 'weightUnit'.
     */
    weight?: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the unit of the insured person's weight. If not present, the default unit of the importing office/client applies.
     */
    weightUnit?: JsonPathSelector&lt;WeightUnit&gt;[];
    /**
     * A selector to retrieve the information if the insured person is a smoker.
     */
    isSmoker?: JsonPathSelector&lt;boolean&gt;[];
    /**
     * A selector to retrieve the information if the insured person drinks alcohol.
     */
    isAlcoholDrinker?: JsonPathSelector&lt;boolean&gt;[];
}

export interface ValueTransformer {
    op: &quot;constant&quot; | &quot;map&quot; | &quot;trim&quot; | &quot;toNumber&quot; | &quot;calc&quot; | &quot;pattern&quot;;
}

/**
 * Comprises the information for an existing insurance / policy.
 */
export interface ExistingInsuranceStructure {
    /**
     * A selector to retrieve the type of the insurance cover as configured in UWB.
     */
    coverType: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the type of the sum assured (one-time payment, regular payment).
     */
    benefitType: JsonPathSelector&lt;BenefitType&gt;[];
    /**
     * A selector to retrieve the existing insurance's sum assured.
     */
    benefitSum: JsonPathSelector&lt;number&gt;[];
    /**
     * A selector to retrieve the currency for the existing insurance's sum assured as ISO-4217 currency code.
     */
    sumCurrency?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve the name of the insurance company which issued the policy for the existing insurance.
     */
    insurer?: JsonPathSelector&lt;string&gt;[];
    /**
     * A selector to retrieve additional information about the existing insurance.
     */
    remarks?: JsonPathSelector&lt;string&gt;[];
}

export interface ImportedAssessmentFactor {
    /**
     * A selector to retrieve the assessment factor's unique id.
     */
    id: string;
    /**
     * A selector to retrieve the assessment factor's label / name.
     */
    label: string;
    /**
     * A selector to retrieve the assessment factor's risk category.
     */
    category: string;
}

export interface ContentTypeDescription {
    contentType: string;
    fileExtension: string;
}

/**
 * Always replaced with the given constant value.
 */
export interface Constant extends ValueTransformer {
    op: &quot;constant&quot;;
    value: any;
}

/**
 * Maps from an arbitrary json node value to another json node value.
 */
export interface Mapping extends ValueTransformer {
    op: &quot;map&quot;;
    entries: Entry[];
}

/**
 * If the matched node is a textual node, trims its content (removes whitespaces at the beginning and the end).
 */
export interface Trim extends ValueTransformer {
    op: &quot;trim&quot;;
}

/**
 * Converts a matched textual node into a numeric node.
 */
export interface ToNumber extends ValueTransformer {
    op: &quot;toNumber&quot;;
}

/**
 * Multiply a numeric json value by a constant number.
 */
export interface Calc extends ValueTransformer {
    op: &quot;calc&quot;;
    times?: number;
}

/**
 * Takes the text value of a node and places it into a string pattern. Uses {} as placeholder.
 */
export interface Pattern extends ValueTransformer {
    op: &quot;pattern&quot;;
    text: string;
}

export interface Entry {
    from: any;
    to: any;
}

export type BenefitType = &quot;LUMP_SUM&quot; | &quot;YEARLY_PAYMENT&quot; | &quot;MONTHLY_PAYMENT&quot; | &quot;DAILY_PAYMENT&quot; | &quot;OTHER&quot;;

export type DurationType = &quot;IN_YEARS&quot; | &quot;IN_MONTH&quot; | &quot;IN_DAYS&quot; | &quot;END_AGE&quot; | &quot;WHOLE_LIFE&quot;;

export type AttachmentCategory = &quot;EORX&quot; | &quot;IIX&quot; | &quot;LNRC&quot; | &quot;MIB&quot; | &quot;MVR&quot; | &quot;MIRX&quot; | &quot;CASE_SNAPSHOT&quot; | &quot;OCCUPATIONAL&quot; | &quot;MEDICAL&quot; | &quot;FINANCIAL&quot; | &quot;AVOCATIONAL&quot; | &quot;GEOGRAPHICAL&quot; | &quot;DECISION_LETTER&quot;;

export type Gender = &quot;MALE&quot; | &quot;FEMALE&quot;;

export type HeightUnit = &quot;CENTIMETERS&quot; | &quot;FEETS_INCHES&quot;;

export type WeightUnit = &quot;KILOGRAMS&quot; | &quot;POUNDS&quot; | &quot;STONES_POUNDS&quot;;
</pre></div></div></section>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                   2020.
          All rights reserved.    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>
